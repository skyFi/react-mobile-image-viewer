{"version":3,"sources":["components/image-viewer/src/Pointer.js","components/image-viewer/src/Loading.js","components/image-viewer/src/ImageContainer.js","components/image-viewer/src/ListContainer.js","components/image-viewer/src/ImageViewer.js","components/image-viewer/src/index.js","App.js","serviceWorker.js","index.js","components/image-viewer/src/tween.js"],"names":["Pointer","_this$props","this","props","_this$props$length","length","_this$props$changeInd","changeIndex","_this$props$index","index","i","items","push","react_default","a","createElement","className","key","concat","onClick","bind","Component","Loading","setScope","value","min","max","getDistanceBetweenTouches","e","touches","x1","clientX","y1","clientY","x2","y2","Math","sqrt","pow","ImageContainer","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","loadImg","url","img","Image","src","onload","onLoad","onerror","onError","setState","isLoaded","callHandleMove","diffX","isCalledHandleStart","handleStart","handleMove","callHandleEnd","isAllowChange","arguments","undefined","handleEnd","actualHeight","actualWith","originHeight","originWidth","originScale","startLeft","startTop","startScale","onTouchStartTime","isTwoFingerMode","oldPointLeft","oldPointTop","_touchZoomDistanceStart","haveCallMoveFn","diffY","opacity","isCloseByYMove","isMoveHVDirection","animationID","animateStartTime","animateStartValue","x","y","animateFinalValue","state","width","height","scale","left","top","assertThisInitialized","unloadImg","startAnimate","handleTouchStart","handleTouchMove","handleTouchEnd","raf","cancel","screenHeight","screenWidth","parseInt","originTop","event","preventDefault","targetEvent","startX","startY","debug","console","info","Date","now","middlePointClientLeft","abs","round","middlePointClientTop","_this2","_this$state","speedY","onOpacity","Function","setTimeout","onClose","newTop","newLeft","_touchZoomDistanceEnd","zoom","_this3","touchLen","prevState","maxZoomNum","diffTime","_this4","curTime","tween","easeOutQuart","_this$props2","divLeft","_this$state2","ImageStyle","translate","WebkitTransform","transform","defaultStyle","onTouchStart","onTouchMove","onTouchEnd","style","alt","src_Loading","PureComponent","ListContainer","isNeedSpring","easing","urls","gap","perDistance","maxLeft","nextProps","distance","t","d","sin","PI","startTime","getTime","nDiffx","speed","duration","WebkitTransitionDuration","transitionDuration","map","item","src_ImageContainer","document","documentElement","clientWidth","clientHeight","ImageViewer","handleOpacity","onChange","currentIndex","zIndex","footer","f","r","React","isValidElement","getFooter","transition","src_ListContainer","src_Pointer","image_viewer_src","options","_options$maxZoomNum","_options$zIndex","_options$index","_options$urls","_options$gap","_options$speed","_options$onClose","_options$getContainer","getContainer","body","_options$footer","_options$debug","_options$strict","strict","_options$onChange","$node","$container","handleClose","removeEventListener","handleTouchmove","passive","remove","isObjectLike","nodeType","toString","getTag","proto","isPlainObject","warn","Error","appendChild","Array","isArray","addEventListener","ReactDOM","render","ImageViewer_ImageViewer","destroy","prototype","App","preview","__preview","viewer","Boolean","window","location","hostname","match","rootElement","getElementById","hasChildNodes","hydrate","src_App","navigator","serviceWorker","ready","then","registration","unregister","tweenFunctions","linear","b","_c","easeInQuad","easeOutQuad","easeInOutQuad","c","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","p","s","asin","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","module","exports"],"mappings":"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","file":"static/js/main.a441eeac.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nclass Pointer extends Component {\n  render() {\n    const { length = 1, changeIndex = () => {}, index = 0 } = this.props;\n\n    let i = 0,\n      items = [];\n    if (length >= 6) {\n      items.push(<div className=\"viewer-container__pointer-box__nums\" key=\"nums\">{`${index + 1}/${length}`}</div>);\n    } else {\n      for (i; i < length; i++) {\n        if (i === index) {\n          items.push(\n            <span onClick={changeIndex.bind(null, i)} key={i} className=\"viewer-container__pointer-box__pointer on\" />\n          );\n        } else {\n          items.push(\n            <span onClick={changeIndex.bind(null, i)} key={i} className=\"viewer-container__pointer-box__pointer\" />\n          );\n        }\n      }\n    }\n\n    return <div className=\"viewer-container__pointer-box\">{items}</div>;\n  }\n}\n\nexport default Pointer;\n","import React from 'react';\n\nconst Loading = () => {\n  return <div className=\"viewer-container__viewer-image-loading\" />;\n};\n\nexport default Loading;\n","/* eslint max-len: [0] */\nimport React, { PureComponent } from 'react';\nimport raf from 'raf';\nimport tween from './tween.js';\nimport Loading from './Loading';\n\n/**\n *\n * @param {number} value\n * @param {number} min\n * @param {number} max\n */\nfunction setScope(value, min, max) {\n  if (value < min) {\n    return min;\n  }\n  if (value > max) {\n    return max;\n  }\n  return value;\n}\n\nfunction getDistanceBetweenTouches(e) {\n  if (e.touches.length < 2) return 1;\n  const x1 = e.touches[0].clientX;\n  const y1 = e.touches[0].clientY;\n  const x2 = e.touches[1].clientX;\n  const y2 = e.touches[1].clientY;\n  const distance = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);\n  return distance;\n}\n\n// const msPerFrame = 1000 / 60;\nconst maxAnimateTime = 1000;\nconst minTapMoveValue = 5;\nconst maxTapTimeValue = 100;\n\n/**\n * 图片默认展示模式：宽度等于屏幕宽度，高度等比缩放；水平居中，垂直居中或者居顶（当高度大于屏幕高度时）\n * 图片实际尺寸： actualWith, actualHeight\n * 图片初始尺寸： originWidth, originHeight\n * 坐标位置：left, top\n * 放大倍数：zoom\n * 最大放大倍数：maxZoomNum\n * 坐标关系：-(maxZoomNum - 1) * originWidth / 2 < left < 0\n *         -(maxZoomNum - 1) * originHeight / 2 < top < 0\n * 尺寸关系：width = zoom * originWidth\n *         heigth = zoom * originHeight\n *\n * 放大点位置关系：\n * 初始点位置：oldPointLeft, oldPointTop\n * 放大后位置：newPointLeft, newPointTop\n * 对应关系： newPointLeft = zoom * oldPointLeft\n *          newPointTop = zoom * oldPointTop\n *\n * 坐标位置：-1*left = -1*startLeft + (newPointLeft - oldPointLeft) =-1*startLeft (zoom - 1) * oldPointLeft\n *         -1*top = -1*startTop + (newPointTop - oldPointTop) =-1*startLeft (zoom - 1) * oldPointTop\n * =>\n * left = startLeft + (1 - zoom) * oldPointLeft\n * top = startTop + (1 - zoom) * oldPointTop\n */\n\nclass ImageContainer extends PureComponent {\n  constructor() {\n    super();\n    this.actualHeight = 0; // 图片实际高度\n    this.actualWith = 0; // 图片实际宽度\n\n    this.originHeight = 0; // 图片默认展示模式下高度\n    this.originWidth = 0; // 图片默认展示模式下宽度\n    this.originScale = 1; // 图片初始缩放比例\n\n    this.startLeft = 0; // 开始触摸操作时的 left 值\n    this.startTop = 0; // 开始触摸操作时的 top 值\n    this.startScale = 1; // 开始缩放操作时的 scale 值\n\n    this.onTouchStartTime = 0; // 单指触摸开始时间\n\n    this.isTwoFingerMode = false; // 是否为双指模式\n    this.oldPointLeft = 0; // 计算手指中间点在图片上的位置（坐标值）\n    this.oldPointTop = 0; // 计算手指中间点在图片上的位置（坐标值）\n    this._touchZoomDistanceStart = 0; // 用于记录双指距离\n    this.haveCallMoveFn = false;\n\n    this.diffX = 0; // 记录最后 move 事件 移动距离\n    this.diffY = 0; // 记录最后 move 事件 移动距离\n\n    this.opacity = 1;\n    this.isCloseByYMove = false; // 迅速下划\n    this.isMoveHVDirection = ''; // 垂直和水平滚动只能是一个\n\n    this.animationID = 0;\n    this.animateStartTime = 0;\n    this.animateStartValue = {\n      x: 0,\n      y: 0\n    };\n    this.animateFinalValue = {\n      x: 0,\n      y: 0\n    };\n\n    this.state = {\n      width: 0,\n      height: 0,\n      scale: 1,\n      left: 0,\n      top: 0,\n      isLoaded: false\n    };\n    this.onLoad = this.onLoad.bind(this);\n    this.onError = this.onError.bind(this);\n    this.unloadImg = this.unloadImg.bind(this);\n    this.startAnimate = this.startAnimate.bind(this);\n    this.handleTouchStart = this.handleTouchStart.bind(this);\n    this.handleTouchMove = this.handleTouchMove.bind(this);\n    this.handleTouchEnd = this.handleTouchEnd.bind(this);\n  }\n\n  componentWillMount() {\n    this.loadImg(this.props.src);\n  }\n\n  componentWillUnmount() {\n    this.unloadImg();\n    if (this.animationID) {\n      raf.cancel(this.animationID);\n    }\n  }\n\n  onLoad() {\n    this.actualWith = this.img.width;\n    this.actualHeight = this.img.height;\n\n    const { screenHeight, screenWidth } = this.props;\n\n    const left = 0;\n    let top = 0;\n\n    this.originWidth = screenWidth;\n    this.originHeight = (this.actualHeight / this.actualWith) * screenWidth;\n    this.originScale = 1;\n\n    if (this.actualHeight / this.actualWith < screenHeight / screenWidth) {\n      top = parseInt((screenHeight - this.originHeight) / 2, 10);\n    }\n    this.originTop = top;\n\n    this.setState({\n      width: this.originWidth,\n      height: this.originHeight,\n      scale: 1,\n      left,\n      top,\n      isLoaded: true\n    });\n  }\n\n  onError() {\n    this.setState({\n      isLoaded: true\n    });\n  }\n\n  loadImg = url => {\n    this.img = new Image();\n    this.img.src = url;\n    this.img.onload = this.onLoad;\n    this.img.onerror = this.onError;\n\n    this.setState({\n      isLoaded: false\n    });\n  };\n\n  unloadImg() {\n    delete this.img.onerror;\n    delete this.img.onload;\n    delete this.img.src;\n    delete this.img;\n  }\n\n  handleTouchStart(event) {\n    event.preventDefault();\n    if (this.animationID) {\n      raf.cancel(this.animationID);\n    }\n    switch (event.touches.length) {\n      case 1: {\n        const targetEvent = event.touches[0];\n        this.startX = targetEvent.clientX;\n        this.startY = targetEvent.clientY;\n        this.diffX = 0;\n        this.diffY = 0;\n\n        this.startLeft = this.state.left;\n        this.startTop = this.state.top;\n\n        this.props.debug &&\n          console.info(\n            'handleTouchStart this.startX = %s, this.startY = %s, this.startLeft = %s, this.startTop = %s',\n            this.startX,\n            this.startY,\n            this.startLeft,\n            this.startTop\n          );\n        this.onTouchStartTime = Date.now();\n        this.haveCallMoveFn = false;\n        break;\n      }\n      case 2: {\n        // 两个手指\n        // 设置手双指模式\n        this.isTwoFingerMode = true;\n\n        // 计算两个手指中间点屏幕上的坐标\n        const middlePointClientLeft = Math.abs(Math.round((event.touches[0].clientX + event.touches[1].clientX) / 2));\n        const middlePointClientTop = Math.abs(Math.round((event.touches[0].clientY + event.touches[1].clientY) / 2));\n\n        // 保存图片初始位置和尺寸\n        this.startLeft = this.state.left;\n        this.startTop = this.state.top;\n        this.startScale = this.state.scale;\n\n        // 计算手指中间点在图片上的位置（坐标值）\n        this.oldPointLeft = middlePointClientLeft - this.startLeft;\n        this.oldPointTop = middlePointClientTop - this.startTop;\n\n        this._touchZoomDistanceStart = getDistanceBetweenTouches(event);\n        break;\n      }\n      default:\n        break;\n    }\n  }\n\n  handleTouchMove(event) {\n    event.preventDefault();\n    switch (event.touches.length) {\n      case 1: {\n        const targetEvent = event.touches[0];\n        const diffX = targetEvent.clientX - this.startX;\n        const diffY = targetEvent.clientY - this.startY;\n\n        this.diffX = diffX;\n        this.diffY = diffY;\n        this.props.debug && console.info('handleTouchMove one diffX=%s, diffY=%s', diffX, diffY);\n        // 判断是否为点击\n        if (Math.abs(diffX) < minTapMoveValue && Math.abs(diffY) < minTapMoveValue) {\n          return;\n        }\n\n        const { scale, left } = this.state;\n        const width = scale * this.originWidth;\n\n        // 快速滑动垂直水平兼容\n        if (this.state.scale === this.originScale) {\n          const speedX = Math.abs(diffX) / (Date.now() - this.onTouchStartTime);\n          if (speedX > 2) {\n            this.haveCallMoveFn = true;\n            this.callHandleMove(diffX);\n            return;\n          }\n        }\n\n        // 快速下滑关闭预览\n        const speedY = Math.abs(diffY) / (Date.now() - this.onTouchStartTime);\n        if (diffY > 0 && Math.abs(diffX) < 100 && this.state.scale === this.originScale && speedY > 2) {\n          this.props.onOpacity instanceof Function && this.props.onOpacity(0);\n          this.setState(\n            {\n              top: 800\n            },\n            () => {\n              setTimeout(() => {\n                this.props.onClose instanceof Function && this.props.onClose();\n              }, 500);\n            }\n          );\n          this.isCloseByYMove = true;\n          return;\n        }\n\n        // 垂直和水平只能一个方向滑动\n        if (!this.isMoveHVDirection && this.state.scale === this.originScale) {\n          if (Math.abs(diffX) < Math.abs(diffY)) {\n            this.isMoveHVDirection = 'top';\n          }\n          if (Math.abs(diffX) > Math.abs(diffY)) {\n            this.isMoveHVDirection = 'left';\n          }\n        }\n\n        if (this.isMoveHVDirection === 'left' || (!this.isMoveHVDirection && Math.abs(diffX) > Math.abs(diffY))) {\n          // 水平移动\n          if (this.state.scale === this.originScale && Math.abs(diffX) > minTapMoveValue) {\n            this.haveCallMoveFn = true;\n            this.callHandleMove(diffX);\n            return;\n          }\n\n          this.props.debug &&\n            console.info(\n              'handleMove one left=%s, this.startLeft=%s,this.originWidth=%s, width=%s',\n              left,\n              this.startLeft,\n              this.originWidth,\n              width\n            );\n          if (diffX < 0 && this.startLeft <= this.originWidth - width) {\n            this.haveCallMoveFn = true;\n            this.callHandleMove(diffX);\n            return;\n          }\n\n          if (diffX > 0 && this.startLeft >= 0) {\n            this.haveCallMoveFn = true;\n            this.callHandleMove(diffX);\n            return;\n          }\n        }\n\n        const { screenHeight } = this.props;\n        const height = scale * this.originHeight;\n        let newTop = (screenHeight - height) / 2;\n        let newLeft = this.startLeft + diffX;\n\n        if (height > screenHeight || this.state.scale === this.originScale) {\n          newTop = this.startTop + diffY;\n        }\n\n        // 垂直移动\n        if (\n          diffY > 0 &&\n          this.state.top > 0 &&\n          Math.abs(diffX) < Math.abs(diffY) &&\n          this.state.scale === this.originScale\n        ) {\n          this.opacity = 1 - Math.abs(diffY / screenHeight);\n          this.props.onOpacity instanceof Function && this.props.onOpacity(this.opacity);\n        }\n\n        this.props.debug && console.info('handleTouchMove one newLeft=%s, newTop=%s', newLeft, newTop);\n\n        // 垂直和水平只能一个方向滑动\n        if (this.isMoveHVDirection === 'top') {\n          newLeft = this.state.left;\n        }\n        if (this.isMoveHVDirection === 'left') {\n          newTop = this.state.top;\n        }\n\n        this.setState({\n          left: newLeft,\n          top: newTop\n        });\n\n        break;\n      }\n      case 2: {\n        // 两个手指\n        this._touchZoomDistanceEnd = getDistanceBetweenTouches(event);\n\n        const zoom = Math.sqrt(this._touchZoomDistanceEnd / this._touchZoomDistanceStart);\n        const scale = zoom * this.startScale;\n\n        this.setState(() => {\n          const left = this.startLeft + (1 - zoom) * this.oldPointLeft;\n          const top = this.startTop + (1 - zoom) * this.oldPointTop;\n\n          this.props.debug && console.info('zoom = %s, left = %s, top = %s, scale', zoom, left, top, scale);\n          return {\n            left,\n            top,\n            scale\n          };\n        });\n        break;\n      }\n      default:\n        break;\n    }\n  }\n\n  handleTouchEnd(event) {\n    event.preventDefault();\n    if (this.isTwoFingerMode) {\n      // 双指操作结束\n      const touchLen = event.touches.length;\n      this.isTwoFingerMode = false;\n\n      if (touchLen === 1) {\n        const targetEvent = event.touches[0];\n        this.startX = targetEvent.clientX;\n        this.startY = targetEvent.clientY;\n        this.diffX = 0;\n        this.diffY = 0;\n      }\n\n      this.setState((prevState, props) => {\n        const scale = setScope(prevState.scale, 1, props.maxZoomNum);\n        const width = scale * this.originWidth;\n        const height = scale * this.originHeight;\n        const zoom = scale / this.startScale;\n        const left = setScope(this.startLeft + (1 - zoom) * this.oldPointLeft, this.originWidth - width, 0);\n\n        let top;\n        if (height > props.screenHeight) {\n          top = setScope(this.startTop + (1 - zoom) * this.oldPointTop, props.screenHeight - height, 0);\n        } else {\n          top = (props.screenHeight - height) / 2;\n        }\n\n        if (touchLen === 1) {\n          this.startLeft = left;\n          this.startTop = top;\n          this.startScale = scale;\n          this.props.debug &&\n            console.info(\n              'this.startX = %s, this.startY = %s, this.startLeft = %s, this.startTop = %s',\n              this.startX,\n              this.startY,\n              this.startLeft,\n              this.startTop\n            );\n        }\n\n        this.props.debug &&\n          console.info('zoom = %s, left = %s, top = %s, width=%s, height= %s', zoom, left, top, width, height);\n        return {\n          left,\n          top,\n          scale\n        };\n      });\n    } else {\n      // 单指结束（ontouchend）\n      const now = Date.now();\n      const diffTime = now - this.onTouchStartTime;\n      const { diffX, diffY } = this;\n\n      this.props.debug &&\n        console.info('handleTouchEnd one diffTime = %s, diffX = %s, diffy = %s', diffTime, diffX, diffY);\n      // 判断为点击则关闭图片浏览组件\n      if (diffTime < maxTapTimeValue && Math.abs(diffX) < minTapMoveValue && Math.abs(diffY) < minTapMoveValue) {\n        this.props.onClose instanceof Function && this.props.onClose();\n        return;\n      }\n\n      // 下滑结束，关闭组件\n      if (!this.isCloseByYMove) {\n        if (this.opacity < 0.5) {\n          this.props.onOpacity instanceof Function && this.props.onOpacity(0);\n          setTimeout(() => {\n            this.props.onClose instanceof Function && this.props.onClose();\n            this.opacity = 1;\n            this.props.onOpacity instanceof Function && this.props.onOpacity(this.opacity);\n          }, 500);\n          return;\n        } else {\n          this.opacity = 1;\n          this.props.onOpacity instanceof Function && this.props.onOpacity(this.opacity);\n        }\n      }\n\n      // 水平移动\n      if (this.haveCallMoveFn) {\n        const isChangeImage = this.callHandleEnd();\n        if (isChangeImage) {\n          // 如果切换图片则重置当前图片状态\n          setTimeout(() => {\n            this.setState({\n              scale: this.originScale,\n              left: 0,\n              top: this.originTop\n            });\n          }, maxAnimateTime / 3);\n          return;\n        }\n      }\n\n      let x;\n      let y;\n      const { scale } = this.state;\n      const width = scale * this.originWidth;\n      const height = scale * this.originHeight;\n\n      // 使用相同速度算法\n      x = (diffX * maxAnimateTime) / diffTime + this.startLeft;\n      y = (diffY * maxAnimateTime) / diffTime + this.startTop;\n\n      // 边界计算\n      x = setScope(x, this.originWidth - width, 0);\n      if (height > this.props.screenHeight) {\n        y = setScope(y, this.props.screenHeight - height, 0);\n      } else {\n        y = this.state.top;\n      }\n\n      if (this.state.scale === this.originScale) {\n        x = 0;\n        if (height > this.props.screenHeight) {\n          y = setScope(y, this.props.screenHeight - height, 0);\n        } else {\n          y = this.originTop;\n        }\n      }\n\n      if (this.isCloseByYMove) {\n        y = 1000;\n      }\n\n      this.animateStartValue = {\n        x: this.state.left,\n        y: this.state.top\n      };\n      this.animateFinalValue = {\n        x,\n        y\n      };\n      this.animateStartTime = Date.now();\n      this.startAnimate();\n    }\n\n    this.isMoveHVDirection = '';\n    this.isCloseByYMove = false;\n  }\n\n  startAnimate() {\n    this.animationID = raf(() => {\n      // calculate current time\n      const curTime = Date.now() - this.animateStartTime;\n      let left;\n      let top;\n\n      // animate complete\n      if (curTime > maxAnimateTime) {\n        this.setState((prevState, props) => {\n          const width = prevState.scale * this.originWidth;\n          const height = prevState.scale * this.originHeight;\n          left = setScope(prevState.left, this.originWidth - width, 0);\n\n          if (height > props.screenHeight) {\n            top = setScope(prevState.top, props.screenHeight - height, 0);\n          } else {\n            top = (props.screenHeight - height) / 2;\n          }\n          this.props.debug && console.info('end animate left= %s, top = %s', left, top);\n          return {\n            left,\n            top\n          };\n        });\n      } else {\n        left = tween.easeOutQuart(curTime, this.animateStartValue.x, this.animateFinalValue.x, maxAnimateTime);\n        top = tween.easeOutQuart(curTime, this.animateStartValue.y, this.animateFinalValue.y, maxAnimateTime);\n\n        this.props.debug && console.info('startAnimate left= %s, top = %s, curTime = %s', left, top, curTime);\n        this.setState({\n          left,\n          top\n        });\n        this.startAnimate();\n      }\n    });\n  }\n\n  callHandleMove = diffX => {\n    if (!this.isCalledHandleStart) {\n      this.isCalledHandleStart = true;\n      if (this.props.handleStart) {\n        this.props.handleStart();\n      }\n    }\n    this.props.handleMove(diffX);\n  };\n\n  callHandleEnd = (isAllowChange = true) => {\n    if (this.isCalledHandleStart) {\n      this.isCalledHandleStart = false;\n      if (this.props.handleEnd) {\n        return this.props.handleEnd(isAllowChange);\n      }\n    }\n  };\n\n  render() {\n    const { screenWidth, screenHeight, src, left: divLeft } = this.props;\n    const { isLoaded, left, top, scale, width, height } = this.state;\n\n    const ImageStyle = {\n      width,\n      height\n    };\n\n    const translate = `translate3d(${left}px, ${top}px, 0) scale(${scale})`;\n    ImageStyle.WebkitTransform = translate;\n    ImageStyle.transform = translate;\n\n    const defaultStyle = {\n      left: divLeft,\n      width: screenWidth,\n      height: screenHeight\n    };\n    return (\n      <div\n        className=\"viewer-container__viewer-image-container\"\n        onTouchStart={this.handleTouchStart}\n        onTouchMove={this.handleTouchMove}\n        onTouchEnd={this.handleTouchEnd}\n        style={defaultStyle}\n      >\n        {isLoaded ? <img src={src} style={ImageStyle} alt=\"图片预览\" /> : <Loading />}\n      </div>\n    );\n  }\n}\n\nexport default ImageContainer;\n","import React, { PureComponent } from 'react';\n\nimport ImageContainer from './ImageContainer';\n\n// 快速拖动时间限制\nconst DEFAULT_TIME_DIFF = 200;\n\nclass ListContainer extends PureComponent {\n  constructor() {\n    super();\n    this.isNeedSpring = false;\n\n    this.state = {\n      left: 0\n    };\n\n    this.easing = this.easing.bind(this);\n    this.handleStart = this.handleStart.bind(this);\n    this.handleMove = this.handleMove.bind(this);\n    this.handleEnd = this.handleEnd.bind(this);\n  }\n\n  componentWillMount() {\n    const { screenWidth, urls, index, gap } = this.props;\n\n    this.length = urls.length;\n    this.perDistance = screenWidth + gap;\n    this.maxLeft = this.perDistance * (this.length - 1);\n    this.isNeedSpring = false;\n\n    this.setState({\n      left: -this.perDistance * index\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.index !== nextProps.index) {\n      this.isNeedSpring = true;\n      this.setState({\n        left: -this.perDistance * nextProps.index\n      });\n    }\n  }\n\n  /**\n   * 拖拽的缓动公式 - easeOutSine\n   * Link http://easings.net/zh-cn#\n   * t: current time（当前时间）；\n   * b: beginning value（初始值）；\n   * c: change in value（变化量）；\n   * d: duration（持续时间）。\n   */\n  easing(distance) {\n    const t = distance;\n    const b = 0;\n    const d = this.props.screenWidth; // 允许拖拽的最大距离\n    const c = d / 2.5; // 提示标签最大有效拖拽距离\n\n    return c * Math.sin((t / d) * (Math.PI / 2)) + b;\n  }\n\n  handleStart() {\n    this.props.debug && console.info('ListContainer handleStart');\n    this.startLeft = this.state.left;\n    this.startTime = new Date().getTime();\n    this.isNeedSpring = false;\n  }\n\n  handleMove(diffX) {\n    this.props.debug && console.info('ListContainer handleStart diffX = %s', diffX);\n    let nDiffx = diffX;\n    // 限制最大 diffx 值\n    if (Math.abs(nDiffx) > this.props.screenWidth) {\n      if (nDiffx < 0) {\n        nDiffx = -this.props.screenWidth;\n      }\n      if (nDiffx > 0) {\n        nDiffx = this.props.screenWidth;\n      }\n    }\n\n    if (this.state.left >= 0 && nDiffx > 0) {\n      nDiffx = this.easing(nDiffx);\n    } else if (this.state.left <= -this.maxLeft && nDiffx < 0) {\n      nDiffx = -this.easing(-nDiffx);\n    }\n\n    this.setState({\n      left: this.startLeft + nDiffx\n    });\n  }\n\n  handleEnd(isAllowChange) {\n    let index;\n    const diffTime = new Date().getTime() - this.startTime;\n    this.props.debug &&\n      console.info('handleEnd %s', isAllowChange, diffTime, this.state.left, this.startLeft, this.props.index);\n    // 快速拖动情况下切换图片\n    if (isAllowChange && diffTime < DEFAULT_TIME_DIFF) {\n      if (this.state.left < this.startLeft) {\n        index = this.props.index + 1;\n      } else {\n        index = this.props.index - 1;\n      }\n    } else {\n      index = Math.abs(Math.round(this.state.left / this.perDistance));\n    }\n\n    // 处理边界情况\n    if (index < 0) {\n      index = 0;\n    } else if (index > this.length - 1) {\n      index = this.length - 1;\n    }\n\n    this.setState({\n      left: -this.perDistance * index\n    });\n    this.isNeedSpring = true;\n    if (index !== this.props.index) {\n      this.props.changeIndex(index);\n      return true;\n    }\n    return false;\n  }\n\n  render() {\n    const { maxZoomNum, screenWidth, screenHeight, urls, speed, onClose, debug, onOpacity } = this.props;\n\n    const { left } = this.state;\n\n    const defaultStyle = {};\n\n    if (this.isNeedSpring) {\n      const duration = `${speed}ms`;\n      defaultStyle.WebkitTransitionDuration = duration;\n      defaultStyle.transitionDuration = duration;\n    }\n    const translate = `translate3d(${left}px, 0, 0)`;\n    defaultStyle.WebkitTransform = translate;\n    defaultStyle.transform = translate;\n\n    return (\n      <div className=\"viewer-container__viewer-list-container\" style={defaultStyle}>\n        {/* 这里使用 index 作为 key，是因为可能存在同一张图片在预览中 */\n        urls.map((item, i) => (\n          <ImageContainer\n            key={i} // eslint-disable-line\n            src={item}\n            debug={debug}\n            maxZoomNum={maxZoomNum}\n            handleStart={this.handleStart}\n            handleMove={this.handleMove}\n            handleEnd={this.handleEnd}\n            onOpacity={onOpacity}\n            onClose={onClose}\n            left={this.perDistance * i}\n            screenWidth={screenWidth}\n            screenHeight={screenHeight}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default ListContainer;\n","import React from 'react';\nimport Pointer from './Pointer';\nimport ListContainer from './ListContainer';\n\nconst screenWidth = typeof document !== 'undefined' && document.documentElement.clientWidth;\nconst screenHeight = typeof document !== 'undefined' && document.documentElement.clientHeight;\n\nexport default class ImageViewer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      index: props.index || 0,\n      opacity: 1\n    };\n    this.changeIndex = this.changeIndex.bind(this);\n    this.handleOpacity = this.handleOpacity.bind(this);\n  }\n\n  changeIndex(index) {\n    const { onChange } = this.props;\n    this.setState({ index });\n    if (onChange instanceof Function) {\n      onChange({ currentIndex: index });\n    }\n  }\n\n  handleOpacity(opacity) {\n    this.setState({ opacity });\n  }\n\n  render() {\n    const {\n      maxZoomNum,\n      zIndex,\n      urls,\n      gap,\n      speed,\n      onClose,\n      footer,\n      debug,\n      screenWidth: width,\n      screenHeight: height\n    } = this.props;\n    const { index, opacity } = this.state;\n\n    // 获取底部元素\n    function getFooter() {\n      if (footer instanceof Function) {\n        const r = footer({ currentIndex: index });\n        return React.isValidElement(r) ? r : null;\n      }\n      if (React.isValidElement(footer)) {\n        return footer;\n      }\n\n      return footer;\n    }\n\n    const f = getFooter();\n\n    return (\n      <div\n        className=\"fly-component-image-viewer-container\"\n        style={{ zIndex, opacity, transition: `all ${opacity !== 0 && opacity !== 1 ? 100 : 500}ms` }}\n      >\n        <div className=\"viewer-container__cover\" />\n        <ListContainer\n          screenWidth={width || screenWidth}\n          screenHeight={height || screenHeight}\n          changeIndex={this.changeIndex}\n          onClose={onClose}\n          onOpacity={this.handleOpacity}\n          debug={debug}\n          urls={urls}\n          maxZoomNum={maxZoomNum}\n          gap={gap}\n          speed={speed}\n          index={index}\n        />\n        {f !== undefined ? (\n          <div className=\"viewer-container__pointer-box\">{f}</div>\n        ) : (\n          <Pointer length={urls.length} index={index} changeIndex={this.changeIndex} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Viewer from './ImageViewer';\n\n// 不推荐；直接导出，提供不同的使用方式\nexport const ImageViewer = Viewer;\n\n// todo: cover-class, container-class, footer-class\n// 推荐！\nexport default (options = {}) => {\n  const {\n    maxZoomNum = 5, // 最大放大倍数\n    zIndex = 100, // 组件图层深度\n    index = 0, // 当前显示图片的http链接\n    urls = [], // 需要预览的图片http链接列表\n    gap = 10, // 间隙\n    speed = 300, // Duration of transition between slides (in ms)\n    onClose = () => {}, // 关闭组件回调\n    getContainer = () => document.body, // 容器\n    footer = undefined, // 底部节点\n    debug = false, // 是否打印开发日志\n    screenWidth, // 屏幕宽 document.documentElement.clientWidth\n    screenHeight, // 屏幕高 document.documentElement.clientHeight\n    strict = true, // 严格操作模式，开启将禁止 safari 的橡皮筋效果\n    onChange = () => {} // 换页操作回调\n  } = options;\n  let $node = document.createElement('div');\n  let $container = getContainer();\n  if (!isElement($container)) {\n    console.warn(new Error('getContainer 函数的返回值应该是 DOM element.')); // eslint-disable-line\n    $container = document.body;\n  }\n  $container.appendChild($node);\n\n  // 渲染节点\n  if (Array.isArray(urls) && urls.length > 0) {\n    // 严格操作模式，开启将禁止 safari 的橡皮筋效果\n    strict && document.body.addEventListener('touchmove', handleTouchmove, { passive: false }); //passive 参数不能省略，用来兼容ios和android\n\n    ReactDOM.render(\n      <Viewer\n        index={index}\n        urls={urls}\n        footer={footer}\n        onClose={handleClose}\n        onChange={onChange}\n        maxZoomNum={maxZoomNum}\n        zIndex={zIndex}\n        speed={speed}\n        gap={gap}\n        screenHeight={screenHeight}\n        screenWidth={screenWidth}\n        debug={debug}\n      />,\n      $node\n    );\n  }\n\n  // 预览结束\n  function handleClose() {\n    onClose instanceof Function && onClose();\n    strict && document.body.removeEventListener('touchmove', handleTouchmove, { passive: false });\n    if ($node) {\n      $node.remove();\n      $node = null;\n    }\n  }\n\n  // iOS safari 阻止“橡皮筋效果”\n  function handleTouchmove(e) {\n    e.preventDefault(); //阻止默认的处理方式(阻止下拉滑动的效果)\n  }\n\n  return {\n    destroy: handleClose\n  };\n};\n\n// 判断是否是 DOM element, 来自 lodash https://github.com/lodash/lodash/blob/master/isElement.js\nfunction isElement(value) {\n  return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n}\n\nfunction isObjectLike(value) {\n  return typeof value === 'object' && value !== null;\n}\n\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || getTag(value) !== '[object Object]') {\n    return false;\n  }\n  if (Object.getPrototypeOf(value) === null) {\n    return true;\n  }\n  let proto = value;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n}\n\nconst toString = Object.prototype.toString;\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction getTag(value) {\n  if (value == null) {\n    return value === undefined ? '[object Undefined]' : '[object Null]';\n  }\n  return toString.call(value);\n}\n","import React from 'react';\nimport viewer from './components/image-viewer/src/index';\nimport './components/image-viewer/src/ImageViewer.css';\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.preview = this.preview.bind(this);\n  }\n  preview() {\n    this.__preview();\n  }\n  // 预览图片\n  __preview() {\n    viewer({\n      urls: [\n        'assets/pexels-photo-273222.jpeg',\n        'assets/pexels-photo-775415.jpeg',\n        'assets/of.png',\n        'assets/pexels-photo-459793.jpeg',\n        'assets/pexels-photo-533405.jpeg',\n        'assets/pexels-photo-459688.jpeg',\n        'assets/pexels-photo-416343.jpeg',\n        'assets/pexels-photo-277615.jpeg'\n      ],\n      debug: false\n    });\n  }\n  render() {\n    return (\n      <center>\n        <h1 onClick={this.preview}>点击预览</h1>\n      </center>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport { hydrate, render } from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst rootElement = document.getElementById('root');\nif (rootElement.hasChildNodes()) {\n  hydrate(<App />, rootElement);\n} else {\n  render(<App />, rootElement);\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","/* eslint-disable */\n'use strict';\n/**\n * t: current time（当前时间）；\n * b: beginning value（初始值）；\n * c: change in value（变化量）；\n * _c: final value (最后值)\n * d: duration（持续时间）。\n */\nvar tweenFunctions = {\n  linear: function(t, b, _c, d) {\n    var c = _c - b;\n    return (c * t) / d + b;\n  },\n  easeInQuad: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t + b;\n  },\n  easeOutQuad: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * (t /= d) * (t - 2) + b;\n  },\n  easeInOutQuad: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return (c / 2) * t * t + b;\n    } else {\n      return (-c / 2) * (--t * (t - 2) - 1) + b;\n    }\n  },\n  easeInCubic: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t * t + b;\n  },\n  easeOutCubic: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * ((t = t / d - 1) * t * t + 1) + b;\n  },\n  easeInOutCubic: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return (c / 2) * t * t * t + b;\n    } else {\n      return (c / 2) * ((t -= 2) * t * t + 2) + b;\n    }\n  },\n  easeInQuart: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t * t * t + b;\n  },\n  easeOutQuart: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n  },\n  easeInOutQuart: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return (c / 2) * t * t * t * t + b;\n    } else {\n      return (-c / 2) * ((t -= 2) * t * t * t - 2) + b;\n    }\n  },\n  easeInQuint: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t * t * t * t + b;\n  },\n  easeOutQuint: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n  },\n  easeInOutQuint: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return (c / 2) * t * t * t * t * t + b;\n    } else {\n      return (c / 2) * ((t -= 2) * t * t * t * t + 2) + b;\n    }\n  },\n  easeInSine: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * Math.cos((t / d) * (Math.PI / 2)) + c + b;\n  },\n  easeOutSine: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * Math.sin((t / d) * (Math.PI / 2)) + b;\n  },\n  easeInOutSine: function(t, b, _c, d) {\n    var c = _c - b;\n    return (-c / 2) * (Math.cos((Math.PI * t) / d) - 1) + b;\n  },\n  easeInExpo: function(t, b, _c, d) {\n    var c = _c - b;\n    return t == 0 ? b : c * Math.pow(2, 10 * (t / d - 1)) + b;\n  },\n  easeOutExpo: function(t, b, _c, d) {\n    var c = _c - b;\n    return t == d ? b + c : c * (-Math.pow(2, (-10 * t) / d) + 1) + b;\n  },\n  easeInOutExpo: function(t, b, _c, d) {\n    var c = _c - b;\n    if (t === 0) {\n      return b;\n    }\n    if (t === d) {\n      return b + c;\n    }\n    if ((t /= d / 2) < 1) {\n      return (c / 2) * Math.pow(2, 10 * (t - 1)) + b;\n    } else {\n      return (c / 2) * (-Math.pow(2, -10 * --t) + 2) + b;\n    }\n  },\n  easeInCirc: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n  },\n  easeOutCirc: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n  },\n  easeInOutCirc: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return (-c / 2) * (Math.sqrt(1 - t * t) - 1) + b;\n    } else {\n      return (c / 2) * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n    }\n  },\n  easeInElastic: function(t, b, _c, d) {\n    var c = _c - b;\n    var a, p, s;\n    s = 1.70158;\n    p = 0;\n    a = c;\n    if (t === 0) {\n      return b;\n    } else if ((t /= d) === 1) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * 0.3;\n    }\n    if (a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = (p / (2 * Math.PI)) * Math.asin(c / a);\n    }\n    return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin(((t * d - s) * (2 * Math.PI)) / p)) + b;\n  },\n  easeOutElastic: function(t, b, _c, d) {\n    var c = _c - b;\n    var a, p, s;\n    s = 1.70158;\n    p = 0;\n    a = c;\n    if (t === 0) {\n      return b;\n    } else if ((t /= d) === 1) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * 0.3;\n    }\n    if (a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = (p / (2 * Math.PI)) * Math.asin(c / a);\n    }\n    return a * Math.pow(2, -10 * t) * Math.sin(((t * d - s) * (2 * Math.PI)) / p) + c + b;\n  },\n  easeInOutElastic: function(t, b, _c, d) {\n    var c = _c - b;\n    var a, p, s;\n    s = 1.70158;\n    p = 0;\n    a = c;\n    if (t === 0) {\n      return b;\n    } else if ((t /= d / 2) === 2) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * (0.3 * 1.5);\n    }\n    if (a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = (p / (2 * Math.PI)) * Math.asin(c / a);\n    }\n    if (t < 1) {\n      return -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin(((t * d - s) * (2 * Math.PI)) / p)) + b;\n    } else {\n      return a * Math.pow(2, -10 * (t -= 1)) * Math.sin(((t * d - s) * (2 * Math.PI)) / p) * 0.5 + c + b;\n    }\n  },\n  easeInBack: function(t, b, _c, d, s) {\n    var c = _c - b;\n    if (s === void 0) {\n      s = 1.70158;\n    }\n    return c * (t /= d) * t * ((s + 1) * t - s) + b;\n  },\n  easeOutBack: function(t, b, _c, d, s) {\n    var c = _c - b;\n    if (s === void 0) {\n      s = 1.70158;\n    }\n    return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n  },\n  easeInOutBack: function(t, b, _c, d, s) {\n    var c = _c - b;\n    if (s === void 0) {\n      s = 1.70158;\n    }\n    if ((t /= d / 2) < 1) {\n      return (c / 2) * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n    } else {\n      return (c / 2) * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n    }\n  },\n  easeInBounce: function(t, b, _c, d) {\n    var c = _c - b;\n    var v;\n    v = tweenFunctions.easeOutBounce(d - t, 0, c, d);\n    return c - v + b;\n  },\n  easeOutBounce: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d) < 1 / 2.75) {\n      return c * (7.5625 * t * t) + b;\n    } else if (t < 2 / 2.75) {\n      return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n    } else if (t < 2.5 / 2.75) {\n      return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n    } else {\n      return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n    }\n  },\n  easeInOutBounce: function(t, b, _c, d) {\n    var c = _c - b;\n    var v;\n    if (t < d / 2) {\n      v = tweenFunctions.easeInBounce(t * 2, 0, c, d);\n      return v * 0.5 + b;\n    } else {\n      v = tweenFunctions.easeOutBounce(t * 2 - d, 0, c, d);\n      return v * 0.5 + c * 0.5 + b;\n    }\n  }\n};\n\nmodule.exports = tweenFunctions;\n"],"sourceRoot":""}