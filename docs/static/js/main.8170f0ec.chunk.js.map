{"version":3,"sources":["components/image-viewer/src/Pointer.js","components/image-viewer/src/Loading.js","components/image-viewer/src/ImageContainer.js","components/image-viewer/src/ListContainer.js","components/image-viewer/src/ImageViewer.js","components/image-viewer/src/index.js","App.js","serviceWorker.js","index.js","components/image-viewer/src/tween.js"],"names":["Pointer","_this$props","this","props","_this$props$length","length","_this$props$changeInd","changeIndex","_this$props$index","index","i","items","push","react_default","a","createElement","className","key","concat","onClick","bind","Component","Loading","setScope","value","min","max","getDistanceBetweenTouches","e","touches","x1","clientX","y1","clientY","x2","y2","Math","sqrt","pow","clearTimer","timer","clearTimeout","ImageContainer","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","loadImg","url","img","Image","src","onload","onLoad","onerror","onError","setState","isLoaded","callHandleMove","diffX","isCalledHandleStart","handleStart","handleMove","callHandleEnd","isAllowChange","arguments","undefined","handleEnd","actualHeight","actualWith","originHeight","originWidth","originScale","startLeft","startTop","startScale","onTouchStartTime","lastTapEndTime","isTwoFingerMode","oldPointLeft","oldPointTop","_touchZoomDistanceStart","haveCallMoveFn","diffY","opacity","isCloseByYMove","isMoveHVDirection","animationID","animateStartTime","animateStartValue","x","y","animateFinalValue","state","width","height","scale","left","top","assertThisInitialized","unloadImg","startAnimate","handleTouchStart","handleTouchMove","handleTouchEnd","raf","cancel","screenHeight","screenWidth","parseInt","originTop","originImageScale","event","preventDefault","targetEvent","startX","startY","debug","console","info","Date","now","middlePointClientLeft","abs","round","middlePointClientTop","_this2","_this$state","speedY","onOpacity","Function","setTimeout","onClose","newTop","newLeft","_touchZoomDistanceEnd","zoom","_this3","touchLen","prevState","maxZoomNum","diffTime","lastTapDiffTime","doubleTap","closeTimer","_this4","curTime","tween","easeOutQuart","_this$props2","divLeft","_this$state2","ImageStyle","translate","WebkitTransform","transform","defaultStyle","onTouchStart","onTouchMove","onTouchEnd","style","alt","src_Loading","PureComponent","ListContainer","isNeedSpring","easing","urls","gap","perDistance","maxLeft","nextProps","distance","t","d","sin","PI","startTime","getTime","nDiffx","speed","duration","WebkitTransitionDuration","transitionDuration","map","item","src_ImageContainer","document","documentElement","clientWidth","clientHeight","ImageViewer","handleOpacity","onChange","currentIndex","zIndex","footer","containerClass","maskClass","footerClass","f","r","React","isValidElement","getFooter","transition","src_ListContainer","src_Pointer","image_viewer_src","options","_options$maxZoomNum","_options$zIndex","_options$index","_options$urls","_options$gap","_options$speed","_options$onClose","_options$getContainer","getContainer","body","_options$footer","_options$debug","_options$strict","strict","_options$doubleTap","_options$onChange","_options$containerCla","_options$maskClass","_options$footerClass","$node","$container","handleClose","removeEventListener","handleTouchmove","remove","isObjectLike","nodeType","toString","getTag","proto","isPlainObject","warn","Error","appendChild","Array","isArray","addEventListener","passive","ReactDOM","render","ImageViewer_ImageViewer","destroy","prototype","App","preview","__preview","viewer","Boolean","window","location","hostname","match","rootElement","getElementById","hasChildNodes","hydrate","src_App","navigator","serviceWorker","ready","then","registration","unregister","tweenFunctions","linear","b","_c","easeInQuad","easeOutQuad","easeInOutQuad","c","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","p","s","asin","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","module","exports"],"mappings":"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","file":"static/js/main.8170f0ec.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nclass Pointer extends Component {\n  render() {\n    const { length = 1, changeIndex = () => {}, index = 0 } = this.props;\n\n    let i = 0,\n      items = [];\n    if (length >= 6) {\n      items.push(<div className=\"viewer-container__pointer-box__nums\" key=\"nums\">{`${index + 1}/${length}`}</div>);\n    } else {\n      for (i; i < length; i++) {\n        if (i === index) {\n          items.push(\n            <span onClick={changeIndex.bind(null, i)} key={i} className=\"viewer-container__pointer-box__pointer on\" />\n          );\n        } else {\n          items.push(\n            <span onClick={changeIndex.bind(null, i)} key={i} className=\"viewer-container__pointer-box__pointer\" />\n          );\n        }\n      }\n    }\n\n    return <div className=\"viewer-container__pointer-box\">{items}</div>;\n  }\n}\n\nexport default Pointer;\n","import React from 'react';\n\nconst Loading = () => {\n  return <div className=\"viewer-container__viewer-image-loading\" />;\n};\n\nexport default Loading;\n","/* eslint max-len: [0] */\nimport React, { PureComponent } from 'react';\nimport raf from 'raf';\nimport tween from './tween.js';\nimport Loading from './Loading';\n\n/**\n *\n * @param {number} value\n * @param {number} min\n * @param {number} max\n */\nfunction setScope(value, min, max) {\n  if (value < min) {\n    return min;\n  }\n  if (value > max) {\n    return max;\n  }\n  return value;\n}\n\nfunction getDistanceBetweenTouches(e) {\n  if (e.touches.length < 2) return 1;\n  const x1 = e.touches[0].clientX;\n  const y1 = e.touches[0].clientY;\n  const x2 = e.touches[1].clientX;\n  const y2 = e.touches[1].clientY;\n  const distance = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);\n  return distance;\n}\n\nfunction clearTimer(timer) {\n  if (timer) {\n    clearTimeout(timer);\n    timer = null;\n  }\n}\n\n// const msPerFrame = 1000 / 60;\nconst maxAnimateTime = 1000;\nconst minTapMoveValue = 5;\nconst maxTapTimeValue = 100;\nconst maxDoubleTapTimeValue = 250;\n\n/**\n * 图片默认展示模式：宽度等于屏幕宽度，高度等比缩放；水平居中，垂直居中或者居顶（当高度大于屏幕高度时）\n * 图片实际尺寸： actualWith, actualHeight\n * 图片初始尺寸： originWidth, originHeight\n * 坐标位置：left, top\n * 放大倍数：zoom\n * 最大放大倍数：maxZoomNum\n * 坐标关系：-(maxZoomNum - 1) * originWidth / 2 < left < 0\n *         -(maxZoomNum - 1) * originHeight / 2 < top < 0\n * 尺寸关系：width = zoom * originWidth\n *         heigth = zoom * originHeight\n *\n * 放大点位置关系：\n * 初始点位置：oldPointLeft, oldPointTop\n * 放大后位置：newPointLeft, newPointTop\n * 对应关系： newPointLeft = zoom * oldPointLeft\n *          newPointTop = zoom * oldPointTop\n *\n * 坐标位置：-1*left = -1*startLeft + (newPointLeft - oldPointLeft) =-1*startLeft (zoom - 1) * oldPointLeft\n *         -1*top = -1*startTop + (newPointTop - oldPointTop) =-1*startLeft (zoom - 1) * oldPointTop\n * =>\n * left = startLeft + (1 - zoom) * oldPointLeft\n * top = startTop + (1 - zoom) * oldPointTop\n */\n\nclass ImageContainer extends PureComponent {\n  constructor() {\n    super();\n    this.actualHeight = 0; // 图片实际高度\n    this.actualWith = 0; // 图片实际宽度\n\n    this.originHeight = 0; // 图片默认展示模式下高度\n    this.originWidth = 0; // 图片默认展示模式下宽度\n    this.originScale = 1; // 图片初始缩放比例\n\n    this.startLeft = 0; // 开始触摸操作时的 left 值\n    this.startTop = 0; // 开始触摸操作时的 top 值\n    this.startScale = 1; // 开始缩放操作时的 scale 值\n\n    this.onTouchStartTime = 0; // 单指触摸开始时间\n    this.lastTapEndTime = 0; // 最后一次单指触摸结束时间\n\n    this.isTwoFingerMode = false; // 是否为双指模式\n    this.oldPointLeft = 0; // 计算手指中间点在图片上的位置（坐标值）\n    this.oldPointTop = 0; // 计算手指中间点在图片上的位置（坐标值）\n    this._touchZoomDistanceStart = 0; // 用于记录双指距离\n    this.haveCallMoveFn = false;\n\n    this.diffX = 0; // 记录最后 move 事件 移动距离\n    this.diffY = 0; // 记录最后 move 事件 移动距离\n\n    this.opacity = 1;\n    this.isCloseByYMove = false; // 迅速下划\n    this.isMoveHVDirection = ''; // 垂直和水平滚动只能是一个\n\n    this.animationID = 0;\n    this.animateStartTime = 0;\n    this.animateStartValue = {\n      x: 0,\n      y: 0\n    };\n    this.animateFinalValue = {\n      x: 0,\n      y: 0\n    };\n\n    this.state = {\n      width: 0,\n      height: 0,\n      scale: 1,\n      left: 0,\n      top: 0,\n      isLoaded: false\n    };\n    this.onLoad = this.onLoad.bind(this);\n    this.onError = this.onError.bind(this);\n    this.unloadImg = this.unloadImg.bind(this);\n    this.startAnimate = this.startAnimate.bind(this);\n    this.handleTouchStart = this.handleTouchStart.bind(this);\n    this.handleTouchMove = this.handleTouchMove.bind(this);\n    this.handleTouchEnd = this.handleTouchEnd.bind(this);\n  }\n\n  componentWillMount() {\n    this.loadImg(this.props.src);\n  }\n\n  componentWillUnmount() {\n    this.unloadImg();\n    if (this.animationID) {\n      raf.cancel(this.animationID);\n    }\n  }\n\n  onLoad() {\n    this.actualWith = this.img.width;\n    this.actualHeight = this.img.height;\n\n    const { screenHeight, screenWidth } = this.props;\n\n    const left = 0;\n    let top = 0;\n\n    this.originWidth = screenWidth;\n    this.originHeight = (this.actualHeight / this.actualWith) * screenWidth;\n    this.originScale = 1;\n\n    if (this.actualHeight / this.actualWith < screenHeight / screenWidth) {\n      top = parseInt((screenHeight - this.originHeight) / 2, 10);\n    }\n    this.originTop = top;\n\n    // 图片原始 scale\n    this.originImageScale = this.actualHeight / this.originHeight;\n\n    this.setState({\n      width: this.originWidth,\n      height: this.originHeight,\n      scale: 1,\n      left,\n      top,\n      isLoaded: true\n    });\n  }\n\n  onError() {\n    this.setState({\n      isLoaded: true\n    });\n  }\n\n  loadImg = url => {\n    this.img = new Image();\n    this.img.src = url;\n    this.img.onload = this.onLoad;\n    this.img.onerror = this.onError;\n\n    this.setState({\n      isLoaded: false\n    });\n  };\n\n  unloadImg() {\n    delete this.img.onerror;\n    delete this.img.onload;\n    delete this.img.src;\n    delete this.img;\n  }\n\n  handleTouchStart(event) {\n    event.preventDefault();\n    if (this.animationID) {\n      raf.cancel(this.animationID);\n    }\n    switch (event.touches.length) {\n      case 1: {\n        const targetEvent = event.touches[0];\n        this.startX = targetEvent.clientX;\n        this.startY = targetEvent.clientY;\n        this.diffX = 0;\n        this.diffY = 0;\n\n        this.startLeft = this.state.left;\n        this.startTop = this.state.top;\n\n        this.props.debug &&\n          console.info(\n            'handleTouchStart this.startX = %s, this.startY = %s, this.startLeft = %s, this.startTop = %s',\n            this.startX,\n            this.startY,\n            this.startLeft,\n            this.startTop\n          );\n        this.onTouchStartTime = Date.now();\n        this.haveCallMoveFn = false;\n        break;\n      }\n      case 2: {\n        // 两个手指\n        // 设置手双指模式\n        this.isTwoFingerMode = true;\n\n        // 计算两个手指中间点屏幕上的坐标\n        const middlePointClientLeft = Math.abs(Math.round((event.touches[0].clientX + event.touches[1].clientX) / 2));\n        const middlePointClientTop = Math.abs(Math.round((event.touches[0].clientY + event.touches[1].clientY) / 2));\n\n        // 保存图片初始位置和尺寸\n        this.startLeft = this.state.left;\n        this.startTop = this.state.top;\n        this.startScale = this.state.scale;\n\n        // 计算手指中间点在图片上的位置（坐标值）\n        this.oldPointLeft = middlePointClientLeft - this.startLeft;\n        this.oldPointTop = middlePointClientTop - this.startTop;\n\n        this._touchZoomDistanceStart = getDistanceBetweenTouches(event);\n        break;\n      }\n      default:\n        break;\n    }\n  }\n\n  handleTouchMove(event) {\n    event.preventDefault();\n    switch (event.touches.length) {\n      case 1: {\n        const targetEvent = event.touches[0];\n        const diffX = targetEvent.clientX - this.startX;\n        const diffY = targetEvent.clientY - this.startY;\n\n        this.diffX = diffX;\n        this.diffY = diffY;\n        this.props.debug && console.info('handleTouchMove one diffX=%s, diffY=%s', diffX, diffY);\n        // 判断是否为点击\n        if (Math.abs(diffX) < minTapMoveValue && Math.abs(diffY) < minTapMoveValue) {\n          return;\n        }\n\n        const { scale, left } = this.state;\n        const width = scale * this.originWidth;\n\n        // 快速滑动垂直水平兼容\n        if (this.state.scale === this.originScale) {\n          const speedX = Math.abs(diffX) / (Date.now() - this.onTouchStartTime);\n          if (speedX > 2) {\n            this.haveCallMoveFn = true;\n            this.callHandleMove(diffX);\n            return;\n          }\n        }\n\n        // 快速下滑关闭预览\n        const speedY = Math.abs(diffY) / (Date.now() - this.onTouchStartTime);\n        if (diffY > 0 && Math.abs(diffX) < 100 && this.state.scale === this.originScale && speedY > 2) {\n          this.props.onOpacity instanceof Function && this.props.onOpacity(0);\n          this.setState(\n            {\n              top: 800\n            },\n            () => {\n              setTimeout(() => {\n                this.props.onClose instanceof Function && this.props.onClose();\n              }, 500);\n            }\n          );\n          this.isCloseByYMove = true;\n          return;\n        }\n\n        // 垂直和水平只能一个方向滑动\n        if (!this.isMoveHVDirection && this.state.scale === this.originScale) {\n          if (Math.abs(diffX) < Math.abs(diffY)) {\n            this.isMoveHVDirection = 'top';\n          }\n          if (Math.abs(diffX) > Math.abs(diffY)) {\n            this.isMoveHVDirection = 'left';\n          }\n        }\n\n        if (this.isMoveHVDirection === 'left' || (!this.isMoveHVDirection && Math.abs(diffX) > Math.abs(diffY))) {\n          // 水平移动\n          if (this.state.scale === this.originScale && Math.abs(diffX) > minTapMoveValue) {\n            this.haveCallMoveFn = true;\n            this.callHandleMove(diffX);\n            return;\n          }\n\n          this.props.debug &&\n            console.info(\n              'handleMove one left=%s, this.startLeft=%s,this.originWidth=%s, width=%s',\n              left,\n              this.startLeft,\n              this.originWidth,\n              width\n            );\n          if (diffX < 0 && this.startLeft <= this.originWidth - width) {\n            this.haveCallMoveFn = true;\n            this.callHandleMove(diffX);\n            return;\n          }\n\n          if (diffX > 0 && this.startLeft >= 0) {\n            this.haveCallMoveFn = true;\n            this.callHandleMove(diffX);\n            return;\n          }\n        }\n\n        const { screenHeight } = this.props;\n        const height = scale * this.originHeight;\n        let newTop = (screenHeight - height) / 2;\n        let newLeft = this.startLeft + diffX;\n\n        if (height > screenHeight || this.state.scale === this.originScale) {\n          newTop = this.startTop + diffY;\n        }\n\n        // 垂直移动\n        if (\n          diffY > 0 &&\n          this.state.top > 0 &&\n          Math.abs(diffX) < Math.abs(diffY) &&\n          this.state.scale === this.originScale\n        ) {\n          this.opacity = 1 - Math.abs(diffY / screenHeight);\n          this.props.onOpacity instanceof Function && this.props.onOpacity(this.opacity);\n        }\n\n        this.props.debug && console.info('handleTouchMove one newLeft=%s, newTop=%s', newLeft, newTop);\n\n        // 垂直和水平只能一个方向滑动\n        if (this.isMoveHVDirection === 'top') {\n          newLeft = this.state.left;\n        }\n        if (this.isMoveHVDirection === 'left') {\n          newTop = this.state.top;\n        }\n\n        this.setState({\n          left: newLeft,\n          top: newTop\n        });\n\n        break;\n      }\n      case 2: {\n        // 两个手指\n        this._touchZoomDistanceEnd = getDistanceBetweenTouches(event);\n\n        const zoom = Math.sqrt(this._touchZoomDistanceEnd / this._touchZoomDistanceStart);\n        const scale = zoom * this.startScale;\n\n        this.setState(() => {\n          const left = this.startLeft + (1 - zoom) * this.oldPointLeft;\n          const top = this.startTop + (1 - zoom) * this.oldPointTop;\n\n          this.props.debug && console.info('zoom = %s, left = %s, top = %s, scale', zoom, left, top, scale);\n          return {\n            left,\n            top,\n            scale\n          };\n        });\n        break;\n      }\n      default:\n        break;\n    }\n  }\n\n  handleTouchEnd(event) {\n    event.preventDefault();\n    const touchLen = event.touches.length;\n    if (this.isTwoFingerMode) {\n      // 双指操作结束\n      setTimeout(() => {\n        this.isTwoFingerMode = false;\n      }, 250); // 容错误差\n\n      if (touchLen === 1) {\n        const targetEvent = event.touches[0];\n        this.startX = targetEvent.clientX;\n        this.startY = targetEvent.clientY;\n        this.diffX = 0;\n        this.diffY = 0;\n      }\n\n      this.setState((prevState, props) => {\n        const scale = setScope(prevState.scale, 1, props.maxZoomNum);\n        const width = scale * this.originWidth;\n        const height = scale * this.originHeight;\n        const zoom = scale / this.startScale;\n        const left = setScope(this.startLeft + (1 - zoom) * this.oldPointLeft, this.originWidth - width, 0);\n\n        let top;\n        if (height > props.screenHeight) {\n          top = setScope(this.startTop + (1 - zoom) * this.oldPointTop, props.screenHeight - height, 0);\n        } else {\n          top = (props.screenHeight - height) / 2;\n        }\n\n        if (touchLen === 1) {\n          this.startLeft = left;\n          this.startTop = top;\n          this.startScale = scale;\n          this.props.debug &&\n            console.info(\n              'this.startX = %s, this.startY = %s, this.startLeft = %s, this.startTop = %s',\n              this.startX,\n              this.startY,\n              this.startLeft,\n              this.startTop\n            );\n        }\n\n        this.props.debug &&\n          console.info('zoom = %s, left = %s, top = %s, width=%s, height= %s', zoom, left, top, width, height);\n        return {\n          left,\n          top,\n          scale\n        };\n      });\n    } else {\n      // 单指结束（ontouchend）\n      const now = Date.now();\n      const diffTime = now - this.onTouchStartTime;\n      const lastTapDiffTime = now - this.lastTapEndTime;\n      const { diffX, diffY } = this;\n\n      // 双击判断\n      if (\n        this.props.doubleTap &&\n        lastTapDiffTime < maxDoubleTapTimeValue &&\n        Math.abs(diffX) < minTapMoveValue &&\n        Math.abs(diffY) < minTapMoveValue\n      ) {\n        clearTimer(this.closeTimer);\n\n        this.setState((prevState, props) => {\n          const scale = prevState.scale === this.originScale ? this.originImageScale : this.originScale;\n          const height = scale * this.originHeight;\n          let left = this.startX - (this.startX - this.startLeft) * scale;\n\n          let top;\n          if (height > props.screenHeight) {\n            top = this.startY - (this.startY - this.startTop) * scale;\n          } else {\n            top = (props.screenHeight - height) / 2;\n          }\n\n          if (scale === this.originScale) {\n            left = 0;\n            top = (props.screenHeight - height) / 2;\n          }\n          return { top, left, scale };\n        });\n        return;\n      }\n      this.lastTapEndTime = now;\n\n      this.props.debug &&\n        console.info('handleTouchEnd one diffTime = %s, diffX = %s, diffy = %s', diffTime, diffX, diffY);\n      // 判断为点击则关闭图片浏览组件\n      if (diffTime < maxTapTimeValue && Math.abs(diffX) < minTapMoveValue && Math.abs(diffY) < minTapMoveValue) {\n        clearTimer(this.closeTimer);\n        this.closeTimer = setTimeout(\n          () => {\n            this.props.onClose instanceof Function && this.props.onClose();\n          },\n          !this.props.doubleTap ? 0 : maxDoubleTapTimeValue\n        ); // 等待双击判断\n        return;\n      }\n\n      // 下滑结束，关闭组件\n      if (!this.isCloseByYMove) {\n        if (this.opacity < 0.5) {\n          this.props.onOpacity instanceof Function && this.props.onOpacity(0);\n          setTimeout(() => {\n            this.props.onClose instanceof Function && this.props.onClose();\n            this.opacity = 1;\n            this.props.onOpacity instanceof Function && this.props.onOpacity(this.opacity);\n          }, 500);\n          return;\n        } else {\n          this.opacity = 1;\n          this.props.onOpacity instanceof Function && this.props.onOpacity(this.opacity);\n        }\n      }\n\n      // 水平移动\n      if (this.haveCallMoveFn) {\n        const isChangeImage = this.callHandleEnd();\n        if (isChangeImage) {\n          // 如果切换图片则重置当前图片状态\n          setTimeout(() => {\n            this.setState({\n              scale: this.originScale,\n              left: 0,\n              top: this.originTop\n            });\n          }, maxAnimateTime / 3);\n          return;\n        }\n      }\n\n      let x;\n      let y;\n      const { scale } = this.state;\n      const width = scale * this.originWidth;\n      const height = scale * this.originHeight;\n\n      // 使用相同速度算法\n      x = (diffX * maxAnimateTime) / diffTime + this.startLeft;\n      y = (diffY * maxAnimateTime) / diffTime + this.startTop;\n\n      // 边界计算\n      x = setScope(x, this.originWidth - width, 0);\n      if (height > this.props.screenHeight) {\n        y = setScope(y, this.props.screenHeight - height, 0);\n      } else {\n        y = this.state.top;\n      }\n\n      if (this.state.scale === this.originScale) {\n        x = 0;\n        if (height > this.props.screenHeight) {\n          y = setScope(y, this.props.screenHeight - height, 0);\n        } else {\n          y = this.originTop;\n        }\n      }\n\n      if (this.isCloseByYMove) {\n        y = 1000;\n      }\n\n      this.animateStartValue = {\n        x: this.state.left,\n        y: this.state.top\n      };\n      this.animateFinalValue = {\n        x,\n        y\n      };\n      this.animateStartTime = Date.now();\n      this.startAnimate();\n    }\n\n    this.isMoveHVDirection = '';\n    this.isCloseByYMove = false;\n  }\n\n  startAnimate() {\n    this.animationID = raf(() => {\n      // calculate current time\n      const curTime = Date.now() - this.animateStartTime;\n      let left;\n      let top;\n\n      // animate complete\n      if (curTime > maxAnimateTime) {\n        this.setState((prevState, props) => {\n          const width = prevState.scale * this.originWidth;\n          const height = prevState.scale * this.originHeight;\n          left = setScope(prevState.left, this.originWidth - width, 0);\n\n          if (height > props.screenHeight) {\n            top = setScope(prevState.top, props.screenHeight - height, 0);\n          } else {\n            top = (props.screenHeight - height) / 2;\n          }\n          this.props.debug && console.info('end animate left= %s, top = %s', left, top);\n          return {\n            left,\n            top\n          };\n        });\n      } else {\n        left = tween.easeOutQuart(curTime, this.animateStartValue.x, this.animateFinalValue.x, maxAnimateTime);\n        top = tween.easeOutQuart(curTime, this.animateStartValue.y, this.animateFinalValue.y, maxAnimateTime);\n\n        this.props.debug && console.info('startAnimate left= %s, top = %s, curTime = %s', left, top, curTime);\n        this.setState({\n          left,\n          top\n        });\n        this.startAnimate();\n      }\n    });\n  }\n\n  callHandleMove = diffX => {\n    if (!this.isCalledHandleStart) {\n      this.isCalledHandleStart = true;\n      if (this.props.handleStart) {\n        this.props.handleStart();\n      }\n    }\n    this.props.handleMove(diffX);\n  };\n\n  callHandleEnd = (isAllowChange = true) => {\n    if (this.isCalledHandleStart) {\n      this.isCalledHandleStart = false;\n      if (this.props.handleEnd) {\n        return this.props.handleEnd(isAllowChange);\n      }\n    }\n  };\n\n  render() {\n    const { screenWidth, screenHeight, src, left: divLeft } = this.props;\n    const { isLoaded, left, top, scale, width, height } = this.state;\n\n    const ImageStyle = {\n      width,\n      height\n    };\n\n    const translate = `translate3d(${left}px, ${top}px, 0) scale(${scale})`;\n    ImageStyle.WebkitTransform = translate;\n    ImageStyle.transform = translate;\n\n    const defaultStyle = {\n      left: divLeft,\n      width: screenWidth,\n      height: screenHeight\n    };\n    return (\n      <div\n        className=\"viewer-container__viewer-image-container\"\n        onTouchStart={this.handleTouchStart}\n        onTouchMove={this.handleTouchMove}\n        onTouchEnd={this.handleTouchEnd}\n        style={defaultStyle}\n      >\n        {isLoaded ? <img src={src} style={ImageStyle} alt=\"图片预览\" /> : <Loading />}\n      </div>\n    );\n  }\n}\n\nexport default ImageContainer;\n","import React, { PureComponent } from 'react';\n\nimport ImageContainer from './ImageContainer';\n\n// 快速拖动时间限制\nconst DEFAULT_TIME_DIFF = 200;\n\nclass ListContainer extends PureComponent {\n  constructor() {\n    super();\n    this.isNeedSpring = false;\n\n    this.state = {\n      left: 0\n    };\n\n    this.easing = this.easing.bind(this);\n    this.handleStart = this.handleStart.bind(this);\n    this.handleMove = this.handleMove.bind(this);\n    this.handleEnd = this.handleEnd.bind(this);\n  }\n\n  componentWillMount() {\n    const { screenWidth, urls, index, gap } = this.props;\n\n    this.length = urls.length;\n    this.perDistance = screenWidth + gap;\n    this.maxLeft = this.perDistance * (this.length - 1);\n    this.isNeedSpring = false;\n\n    this.setState({\n      left: -this.perDistance * index\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.index !== nextProps.index) {\n      this.isNeedSpring = true;\n      this.setState({\n        left: -this.perDistance * nextProps.index\n      });\n    }\n  }\n\n  /**\n   * 拖拽的缓动公式 - easeOutSine\n   * Link http://easings.net/zh-cn#\n   * t: current time（当前时间）；\n   * b: beginning value（初始值）；\n   * c: change in value（变化量）；\n   * d: duration（持续时间）。\n   */\n  easing(distance) {\n    const t = distance;\n    const b = 0;\n    const d = this.props.screenWidth; // 允许拖拽的最大距离\n    const c = d / 2.5; // 提示标签最大有效拖拽距离\n\n    return c * Math.sin((t / d) * (Math.PI / 2)) + b;\n  }\n\n  handleStart() {\n    this.props.debug && console.info('ListContainer handleStart');\n    this.startLeft = this.state.left;\n    this.startTime = new Date().getTime();\n    this.isNeedSpring = false;\n  }\n\n  handleMove(diffX) {\n    this.props.debug && console.info('ListContainer handleStart diffX = %s', diffX);\n    let nDiffx = diffX;\n    // 限制最大 diffx 值\n    if (Math.abs(nDiffx) > this.props.screenWidth) {\n      if (nDiffx < 0) {\n        nDiffx = -this.props.screenWidth;\n      }\n      if (nDiffx > 0) {\n        nDiffx = this.props.screenWidth;\n      }\n    }\n\n    if (this.state.left >= 0 && nDiffx > 0) {\n      nDiffx = this.easing(nDiffx);\n    } else if (this.state.left <= -this.maxLeft && nDiffx < 0) {\n      nDiffx = -this.easing(-nDiffx);\n    }\n\n    this.setState({\n      left: this.startLeft + nDiffx\n    });\n  }\n\n  handleEnd(isAllowChange) {\n    let index;\n    const diffTime = new Date().getTime() - this.startTime;\n    this.props.debug &&\n      console.info('handleEnd %s', isAllowChange, diffTime, this.state.left, this.startLeft, this.props.index);\n    // 快速拖动情况下切换图片\n    if (isAllowChange && diffTime < DEFAULT_TIME_DIFF) {\n      if (this.state.left < this.startLeft) {\n        index = this.props.index + 1;\n      } else {\n        index = this.props.index - 1;\n      }\n    } else {\n      index = Math.abs(Math.round(this.state.left / this.perDistance));\n    }\n\n    // 处理边界情况\n    if (index < 0) {\n      index = 0;\n    } else if (index > this.length - 1) {\n      index = this.length - 1;\n    }\n\n    this.setState({\n      left: -this.perDistance * index\n    });\n    this.isNeedSpring = true;\n    if (index !== this.props.index) {\n      this.props.changeIndex(index);\n      return true;\n    }\n    return false;\n  }\n\n  render() {\n    const { maxZoomNum, screenWidth, screenHeight, urls, speed, onClose, debug, onOpacity, doubleTap } = this.props;\n\n    const { left } = this.state;\n\n    const defaultStyle = {};\n\n    if (this.isNeedSpring) {\n      const duration = `${speed}ms`;\n      defaultStyle.WebkitTransitionDuration = duration;\n      defaultStyle.transitionDuration = duration;\n    }\n    const translate = `translate3d(${left}px, 0, 0)`;\n    defaultStyle.WebkitTransform = translate;\n    defaultStyle.transform = translate;\n\n    return (\n      <div className=\"viewer-container__viewer-list-container\" style={defaultStyle}>\n        {/* 这里使用 index 作为 key，是因为可能存在同一张图片在预览中 */\n        urls.map((item, i) => (\n          <ImageContainer\n            key={i} // eslint-disable-line\n            src={item}\n            debug={debug}\n            doubleTap={doubleTap}\n            maxZoomNum={maxZoomNum}\n            handleStart={this.handleStart}\n            handleMove={this.handleMove}\n            handleEnd={this.handleEnd}\n            onOpacity={onOpacity}\n            onClose={onClose}\n            left={this.perDistance * i}\n            screenWidth={screenWidth}\n            screenHeight={screenHeight}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default ListContainer;\n","import React from 'react';\nimport Pointer from './Pointer';\nimport ListContainer from './ListContainer';\n\nconst screenWidth = typeof document !== 'undefined' && document.documentElement.clientWidth;\nconst screenHeight = typeof document !== 'undefined' && document.documentElement.clientHeight;\n\nexport default class ImageViewer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      index: props.index || 0,\n      opacity: 1\n    };\n    this.changeIndex = this.changeIndex.bind(this);\n    this.handleOpacity = this.handleOpacity.bind(this);\n  }\n\n  changeIndex(index) {\n    const { onChange } = this.props;\n    this.setState({ index });\n    if (onChange instanceof Function) {\n      onChange({ currentIndex: index });\n    }\n  }\n\n  handleOpacity(opacity) {\n    this.setState({ opacity });\n  }\n\n  render() {\n    const {\n      maxZoomNum,\n      zIndex,\n      urls,\n      gap,\n      speed,\n      onClose,\n      footer,\n      debug,\n      doubleTap,\n      screenWidth: width,\n      screenHeight: height,\n      containerClass,\n      maskClass,\n      footerClass\n    } = this.props;\n    const { index, opacity } = this.state;\n\n    // 获取底部元素\n    function getFooter() {\n      if (footer instanceof Function) {\n        const r = footer({ currentIndex: index });\n        return React.isValidElement(r) ? r : null;\n      }\n      if (React.isValidElement(footer)) {\n        return footer;\n      }\n\n      return footer;\n    }\n\n    const f = getFooter();\n\n    return (\n      <div\n        className={`fly-component-image-viewer-container ${containerClass}`}\n        style={{ zIndex, opacity, transition: `all ${opacity !== 0 && opacity !== 1 ? 100 : 500}ms` }}\n      >\n        <div className={`viewer-container__cover ${maskClass}`} />\n        <ListContainer\n          screenWidth={width || screenWidth}\n          screenHeight={height || screenHeight}\n          changeIndex={this.changeIndex}\n          onClose={onClose}\n          doubleTap={doubleTap}\n          onOpacity={this.handleOpacity}\n          debug={debug}\n          urls={urls}\n          maxZoomNum={maxZoomNum}\n          gap={gap}\n          speed={speed}\n          index={index}\n        />\n        {f !== undefined ? (\n          <div className={`viewer-container__pointer-box ${footerClass}`}>{f}</div>\n        ) : (\n          <Pointer length={urls.length} index={index} changeIndex={this.changeIndex} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Viewer from './ImageViewer';\n\n// 不推荐；直接导出，提供不同的使用方式\nexport const ImageViewer = Viewer;\n\n// todo: cover-class, container-class, footer-class\n// 推荐！\nexport default (options = {}) => {\n  const {\n    maxZoomNum = 8, // 最大放大倍数\n    zIndex = 100, // 组件图层深度\n    index = 0, // 当前显示图片的http链接\n    urls = [], // 需要预览的图片http链接列表\n    gap = 10, // 间隙\n    speed = 300, // Duration of transition between slides (in ms)\n    onClose = () => {}, // 关闭组件回调\n    getContainer = () => document.body, // 容器\n    footer = undefined, // 底部节点\n    debug = false, // 是否打印开发日志\n    screenWidth, // 屏幕宽 document.documentElement.clientWidth\n    screenHeight, // 屏幕高 document.documentElement.clientHeight\n    strict = true, // 严格操作模式，开启将禁止 safari 的橡皮筋效果\n    doubleTap = true, // 是否开启双击放大效果，开启后会导致单击取消有个 `250ms` 的延时（作为双击判断），默认开启\n    onChange = () => {}, // 换页操作回调\n    containerClass = '', // 容器自定义样式类\n    maskClass = '', // 遮罩自定义样式类\n    footerClass = '', // 底部自定义样式类\n  } = options;\n  let $node = document.createElement('div');\n  let $container = getContainer();\n  if (!isElement($container)) {\n    console.warn(new Error('getContainer 函数的返回值应该是 DOM element.')); // eslint-disable-line\n    $container = document.body;\n  }\n  $container.appendChild($node);\n\n  // 渲染节点\n  if (Array.isArray(urls) && urls.length > 0) {\n    // 严格操作模式，开启将禁止 safari 的橡皮筋效果\n    strict && document.body.addEventListener('touchmove', handleTouchmove, { passive: false }); //passive 参数不能省略，用来兼容ios和android\n\n    ReactDOM.render(\n      <Viewer\n        index={index}\n        urls={urls}\n        footer={footer}\n        onClose={handleClose}\n        onChange={onChange}\n        maxZoomNum={maxZoomNum}\n        zIndex={zIndex}\n        speed={speed}\n        doubleTap={doubleTap}\n        gap={gap}\n        screenHeight={screenHeight}\n        screenWidth={screenWidth}\n        debug={debug}\n        containerClass={containerClass}\n        maskClass={maskClass}\n        footerClass={footerClass}\n      />,\n      $node\n    );\n  }\n\n  // 预览结束\n  function handleClose() {\n    onClose instanceof Function && onClose();\n    strict && document.body.removeEventListener('touchmove', handleTouchmove);\n    if ($node) {\n      $node.remove();\n      $node = null;\n    }\n  }\n\n  // iOS safari 阻止“橡皮筋效果”\n  function handleTouchmove(e) {\n    e.preventDefault(); //阻止默认的处理方式(阻止下拉滑动的效果)\n  }\n\n  return {\n    destroy: handleClose\n  };\n};\n\n// 判断是否是 DOM element, 来自 lodash https://github.com/lodash/lodash/blob/master/isElement.js\nfunction isElement(value) {\n  return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n}\n\nfunction isObjectLike(value) {\n  return typeof value === 'object' && value !== null;\n}\n\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || getTag(value) !== '[object Object]') {\n    return false;\n  }\n  if (Object.getPrototypeOf(value) === null) {\n    return true;\n  }\n  let proto = value;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n}\n\nconst toString = Object.prototype.toString;\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction getTag(value) {\n  if (value == null) {\n    return value === undefined ? '[object Undefined]' : '[object Null]';\n  }\n  return toString.call(value);\n}\n","import React from 'react';\nimport viewer from './components/image-viewer/src/index';\nimport './components/image-viewer/src/ImageViewer.css';\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.preview = this.preview.bind(this);\n  }\n  preview() {\n    this.__preview();\n  }\n  // 预览图片\n  __preview() {\n    viewer({\n      urls: [\n        'assets/pexels-photo-273222.jpeg',\n        'assets/pexels-photo-775415.jpeg',\n        'assets/of.png',\n        'assets/pexels-photo-459793.jpeg',\n        'assets/pexels-photo-533405.jpeg',\n        'assets/pexels-photo-459688.jpeg',\n        'assets/pexels-photo-416343.jpeg',\n        'assets/pexels-photo-277615.jpeg'\n      ],\n      doubleTap: true,\n      strict: true,\n      debug: false\n    });\n  }\n  render() {\n    return (\n      <center>\n        <h1 onClick={this.preview}>点击预览</h1>\n      </center>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport { hydrate, render } from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst rootElement = document.getElementById('root');\nif (rootElement.hasChildNodes()) {\n  hydrate(<App />, rootElement);\n} else {\n  render(<App />, rootElement);\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","/* eslint-disable */\n'use strict';\n/**\n * t: current time（当前时间）；\n * b: beginning value（初始值）；\n * c: change in value（变化量）；\n * _c: final value (最后值)\n * d: duration（持续时间）。\n */\nvar tweenFunctions = {\n  linear: function(t, b, _c, d) {\n    var c = _c - b;\n    return (c * t) / d + b;\n  },\n  easeInQuad: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t + b;\n  },\n  easeOutQuad: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * (t /= d) * (t - 2) + b;\n  },\n  easeInOutQuad: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return (c / 2) * t * t + b;\n    } else {\n      return (-c / 2) * (--t * (t - 2) - 1) + b;\n    }\n  },\n  easeInCubic: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t * t + b;\n  },\n  easeOutCubic: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * ((t = t / d - 1) * t * t + 1) + b;\n  },\n  easeInOutCubic: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return (c / 2) * t * t * t + b;\n    } else {\n      return (c / 2) * ((t -= 2) * t * t + 2) + b;\n    }\n  },\n  easeInQuart: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t * t * t + b;\n  },\n  easeOutQuart: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n  },\n  easeInOutQuart: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return (c / 2) * t * t * t * t + b;\n    } else {\n      return (-c / 2) * ((t -= 2) * t * t * t - 2) + b;\n    }\n  },\n  easeInQuint: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t * t * t * t + b;\n  },\n  easeOutQuint: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n  },\n  easeInOutQuint: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return (c / 2) * t * t * t * t * t + b;\n    } else {\n      return (c / 2) * ((t -= 2) * t * t * t * t + 2) + b;\n    }\n  },\n  easeInSine: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * Math.cos((t / d) * (Math.PI / 2)) + c + b;\n  },\n  easeOutSine: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * Math.sin((t / d) * (Math.PI / 2)) + b;\n  },\n  easeInOutSine: function(t, b, _c, d) {\n    var c = _c - b;\n    return (-c / 2) * (Math.cos((Math.PI * t) / d) - 1) + b;\n  },\n  easeInExpo: function(t, b, _c, d) {\n    var c = _c - b;\n    return t == 0 ? b : c * Math.pow(2, 10 * (t / d - 1)) + b;\n  },\n  easeOutExpo: function(t, b, _c, d) {\n    var c = _c - b;\n    return t == d ? b + c : c * (-Math.pow(2, (-10 * t) / d) + 1) + b;\n  },\n  easeInOutExpo: function(t, b, _c, d) {\n    var c = _c - b;\n    if (t === 0) {\n      return b;\n    }\n    if (t === d) {\n      return b + c;\n    }\n    if ((t /= d / 2) < 1) {\n      return (c / 2) * Math.pow(2, 10 * (t - 1)) + b;\n    } else {\n      return (c / 2) * (-Math.pow(2, -10 * --t) + 2) + b;\n    }\n  },\n  easeInCirc: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n  },\n  easeOutCirc: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n  },\n  easeInOutCirc: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return (-c / 2) * (Math.sqrt(1 - t * t) - 1) + b;\n    } else {\n      return (c / 2) * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n    }\n  },\n  easeInElastic: function(t, b, _c, d) {\n    var c = _c - b;\n    var a, p, s;\n    s = 1.70158;\n    p = 0;\n    a = c;\n    if (t === 0) {\n      return b;\n    } else if ((t /= d) === 1) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * 0.3;\n    }\n    if (a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = (p / (2 * Math.PI)) * Math.asin(c / a);\n    }\n    return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin(((t * d - s) * (2 * Math.PI)) / p)) + b;\n  },\n  easeOutElastic: function(t, b, _c, d) {\n    var c = _c - b;\n    var a, p, s;\n    s = 1.70158;\n    p = 0;\n    a = c;\n    if (t === 0) {\n      return b;\n    } else if ((t /= d) === 1) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * 0.3;\n    }\n    if (a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = (p / (2 * Math.PI)) * Math.asin(c / a);\n    }\n    return a * Math.pow(2, -10 * t) * Math.sin(((t * d - s) * (2 * Math.PI)) / p) + c + b;\n  },\n  easeInOutElastic: function(t, b, _c, d) {\n    var c = _c - b;\n    var a, p, s;\n    s = 1.70158;\n    p = 0;\n    a = c;\n    if (t === 0) {\n      return b;\n    } else if ((t /= d / 2) === 2) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * (0.3 * 1.5);\n    }\n    if (a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = (p / (2 * Math.PI)) * Math.asin(c / a);\n    }\n    if (t < 1) {\n      return -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin(((t * d - s) * (2 * Math.PI)) / p)) + b;\n    } else {\n      return a * Math.pow(2, -10 * (t -= 1)) * Math.sin(((t * d - s) * (2 * Math.PI)) / p) * 0.5 + c + b;\n    }\n  },\n  easeInBack: function(t, b, _c, d, s) {\n    var c = _c - b;\n    if (s === void 0) {\n      s = 1.70158;\n    }\n    return c * (t /= d) * t * ((s + 1) * t - s) + b;\n  },\n  easeOutBack: function(t, b, _c, d, s) {\n    var c = _c - b;\n    if (s === void 0) {\n      s = 1.70158;\n    }\n    return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n  },\n  easeInOutBack: function(t, b, _c, d, s) {\n    var c = _c - b;\n    if (s === void 0) {\n      s = 1.70158;\n    }\n    if ((t /= d / 2) < 1) {\n      return (c / 2) * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n    } else {\n      return (c / 2) * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n    }\n  },\n  easeInBounce: function(t, b, _c, d) {\n    var c = _c - b;\n    var v;\n    v = tweenFunctions.easeOutBounce(d - t, 0, c, d);\n    return c - v + b;\n  },\n  easeOutBounce: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d) < 1 / 2.75) {\n      return c * (7.5625 * t * t) + b;\n    } else if (t < 2 / 2.75) {\n      return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n    } else if (t < 2.5 / 2.75) {\n      return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n    } else {\n      return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n    }\n  },\n  easeInOutBounce: function(t, b, _c, d) {\n    var c = _c - b;\n    var v;\n    if (t < d / 2) {\n      v = tweenFunctions.easeInBounce(t * 2, 0, c, d);\n      return v * 0.5 + b;\n    } else {\n      v = tweenFunctions.easeOutBounce(t * 2 - d, 0, c, d);\n      return v * 0.5 + c * 0.5 + b;\n    }\n  }\n};\n\nmodule.exports = tweenFunctions;\n"],"sourceRoot":""}