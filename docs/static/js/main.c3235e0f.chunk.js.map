{"version":3,"sources":["components/image-viewer/src/Pointer.js","components/image-viewer/src/Loading.js","components/image-viewer/src/ImageContainer.js","components/image-viewer/src/ListContainer.js","components/image-viewer/src/ImageViewer.js","components/image-viewer/src/index.js","App.js","serviceWorker.js","index.js","components/image-viewer/src/tween.js"],"names":["Pointer","_this$props","this","props","_this$props$length","length","_this$props$changeInd","changeIndex","_this$props$index","index","i","items","push","react_default","a","createElement","className","key","concat","onClick","bind","Component","Loading","setScope","value","min","max","getDistanceBetweenTouches","e","touches","x1","clientX","y1","clientY","x2","y2","Math","sqrt","pow","ImageContainer","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","loadImg","url","img","Image","src","onload","onLoad","onerror","onError","setState","isLoaded","callHandleMove","diffX","isCalledHandleStart","handleStart","handleMove","callHandleEnd","isAllowChange","handleEnd","actualHeight","actualWith","originHeight","originWidth","originScale","startLeft","startTop","startScale","onTouchStartTime","isTwoFingerMode","oldPointLeft","oldPointTop","_touchZoomDistanceStart","haveCallMoveFn","diffY","animationID","animateStartTime","animateStartValue","x","y","animateFinalValue","state","width","height","scale","left","top","assertThisInitialized","unloadImg","startAnimate","handleTouchStart","handleTouchMove","handleTouchEnd","raf","cancel","screenHeight","screenWidth","parseInt","originTop","event","preventDefault","targetEvent","startX","startY","debug","console","info","Date","now","middlePointClientLeft","abs","round","middlePointClientTop","_this2","_this$state","newTop","newLeft","_touchZoomDistanceEnd","zoom","_this3","touchLen","prevState","maxZoomNum","diffTime","lastTouchEndTime","onClose","Function","setTimeout","_this4","curTime","tween","easeOutQuart","_this$props2","divLeft","_this$state2","ImageStyle","translate","WebkitTransform","transform","defaultStyle","onTouchStart","onTouchMove","onTouchEnd","style","alt","src_Loading","PureComponent","ListContainer","isNeedSpring","easing","urls","gap","perDistance","maxLeft","nextProps","distance","t","d","sin","PI","startTime","getTime","nDiffx","speed","duration","WebkitTransitionDuration","transitionDuration","map","item","src_ImageContainer","document","documentElement","clientWidth","clientHeight","ImageViewer","onChange","currentIndex","zIndex","footer","f","r","React","isValidElement","getFooter","src_ListContainer","src_Pointer","image_viewer_src","options","arguments","undefined","_options$maxZoomNum","_options$zIndex","_options$index","_options$urls","_options$gap","_options$speed","_options$onClose","_options$getContainer","getContainer","body","_options$footer","_options$debug","_options$strict","strict","_options$onChange","$node","$container","handleClose","removeEventListener","handleTouchmove","passive","remove","isObjectLike","nodeType","toString","getTag","proto","isPlainObject","warn","Error","appendChild","addEventListener","Array","isArray","ReactDOM","render","ImageViewer_ImageViewer","destroy","prototype","App","preview","__preview","viewer","Boolean","window","location","hostname","match","rootElement","getElementById","hasChildNodes","hydrate","src_App","navigator","serviceWorker","ready","then","registration","unregister","tweenFunctions","linear","b","_c","easeInQuad","easeOutQuad","easeInOutQuad","c","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","p","s","asin","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","module","exports"],"mappings":"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","file":"static/js/main.c3235e0f.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nclass Pointer extends Component {\n  render() {\n    const { length = 1, changeIndex = () => {}, index = 0 } = this.props;\n\n    let i = 0,\n      items = [];\n    if (length >= 6) {\n      items.push(\n        <div className=\"viewer-container__pointer-box__nums\" key=\"nums\">{`${index + 1}/${length}`}</div>\n      )\n    } else {\n      for (i; i < length; i++) {\n        if (i === index) {\n          items.push(\n            <span onClick={changeIndex.bind(null, i)} key={i} className=\"viewer-container__pointer-box__pointer on\" />\n          );\n        } else {\n          items.push(\n            <span onClick={changeIndex.bind(null, i)} key={i} className=\"viewer-container__pointer-box__pointer\" />\n          );\n        }\n      }\n    }\n\n\n    return <div className=\"viewer-container__pointer-box\">{items}</div>;\n  }\n}\n\nexport default Pointer;\n","import React from 'react';\n\nconst Loading = () => {\n  return <div className=\"viewer-container__viewer-image-loading\" />;\n};\n\nexport default Loading;\n","/* eslint max-len: [0] */\nimport React, { PureComponent } from 'react';\nimport raf from 'raf';\nimport tween from './tween.js';\nimport Loading from './Loading';\n\n/**\n *\n * @param {number} value\n * @param {number} min\n * @param {number} max\n */\nfunction setScope(value, min, max) {\n  if (value < min) {\n    return min;\n  }\n  if (value > max) {\n    return max;\n  }\n  return value;\n}\n\nfunction getDistanceBetweenTouches(e) {\n  if (e.touches.length < 2) return 1;\n  const x1 = e.touches[0].clientX;\n  const y1 = e.touches[0].clientY;\n  const x2 = e.touches[1].clientX;\n  const y2 = e.touches[1].clientY;\n  const distance = Math.sqrt((x2 - x1) ** 2 + (y2 - y1) ** 2);\n  return distance;\n}\n\n// const msPerFrame = 1000 / 60;\nconst maxAnimateTime = 1000;\nconst minTapMoveValue = 5;\nconst maxTapTimeValue = 300;\n\n/**\n * 图片默认展示模式：宽度等于屏幕宽度，高度等比缩放；水平居中，垂直居中或者居顶（当高度大于屏幕高度时）\n * 图片实际尺寸： actualWith, actualHeight\n * 图片初始尺寸： originWidth, originHeight\n * 坐标位置：left, top\n * 放大倍数：zoom\n * 最大放大倍数：maxZoomNum\n * 坐标关系：-(maxZoomNum - 1) * originWidth / 2 < left < 0\n *         -(maxZoomNum - 1) * originHeight / 2 < top < 0\n * 尺寸关系：width = zoom * originWidth\n *         heigth = zoom * originHeight\n *\n * 放大点位置关系：\n * 初始点位置：oldPointLeft, oldPointTop\n * 放大后位置：newPointLeft, newPointTop\n * 对应关系： newPointLeft = zoom * oldPointLeft\n *          newPointTop = zoom * oldPointTop\n *\n * 坐标位置：-1*left = -1*startLeft + (newPointLeft - oldPointLeft) =-1*startLeft (zoom - 1) * oldPointLeft\n *         -1*top = -1*startTop + (newPointTop - oldPointTop) =-1*startLeft (zoom - 1) * oldPointTop\n * =>\n * left = startLeft + (1 - zoom) * oldPointLeft\n * top = startTop + (1 - zoom) * oldPointTop\n */\n\nclass ImageContainer extends PureComponent {\n  constructor() {\n    super();\n    this.actualHeight = 0; // 图片实际高度\n    this.actualWith = 0; // 图片实际宽度\n\n    this.originHeight = 0; // 图片默认展示模式下高度\n    this.originWidth = 0; // 图片默认展示模式下宽度\n    this.originScale = 1; // 图片初始缩放比例\n\n    this.startLeft = 0; // 开始触摸操作时的 left 值\n    this.startTop = 0; // 开始触摸操作时的 top 值\n    this.startScale = 1; // 开始缩放操作时的 scale 值\n\n    this.onTouchStartTime = 0; // 单指触摸开始时间\n\n    this.isTwoFingerMode = false; // 是否为双指模式\n    this.oldPointLeft = 0; // 计算手指中间点在图片上的位置（坐标值）\n    this.oldPointTop = 0; // 计算手指中间点在图片上的位置（坐标值）\n    this._touchZoomDistanceStart = 0; // 用于记录双指距离\n    this.haveCallMoveFn = false;\n\n    this.diffX = 0; // 记录最后 move 事件 移动距离\n    this.diffY = 0; // 记录最后 move 事件 移动距离\n\n    this.animationID = 0;\n    this.animateStartTime = 0;\n    this.animateStartValue = {\n      x: 0,\n      y: 0\n    };\n    this.animateFinalValue = {\n      x: 0,\n      y: 0\n    };\n\n    this.state = {\n      width: 0,\n      height: 0,\n      scale: 1,\n      left: 0,\n      top: 0,\n      isLoaded: false\n    };\n    this.onLoad = this.onLoad.bind(this);\n    this.onError = this.onError.bind(this);\n    this.unloadImg = this.unloadImg.bind(this);\n    this.startAnimate = this.startAnimate.bind(this);\n    this.handleTouchStart = this.handleTouchStart.bind(this);\n    this.handleTouchMove = this.handleTouchMove.bind(this);\n    this.handleTouchEnd = this.handleTouchEnd.bind(this);\n  }\n\n  componentWillMount() {\n    this.loadImg(this.props.src);\n  }\n\n  componentWillUnmount() {\n    this.unloadImg();\n    if (this.animationID) {\n      raf.cancel(this.animationID);\n    }\n  }\n\n  onLoad() {\n    this.actualWith = this.img.width;\n    this.actualHeight = this.img.height;\n\n    const { screenHeight, screenWidth } = this.props;\n\n    const left = 0;\n    let top = 0;\n\n    this.originWidth = screenWidth;\n    this.originHeight = (this.actualHeight / this.actualWith) * screenWidth;\n    this.originScale = 1;\n\n    if (this.actualHeight / this.actualWith < screenHeight / screenWidth) {\n      top = parseInt((screenHeight - this.originHeight) / 2, 10);\n    }\n    this.originTop = top;\n\n    this.setState({\n      width: this.originWidth,\n      height: this.originHeight,\n      scale: 1,\n      left,\n      top,\n      isLoaded: true\n    });\n  }\n\n  onError() {\n    this.setState({\n      isLoaded: true\n    });\n  }\n\n  loadImg = url => {\n    this.img = new Image();\n    this.img.src = url;\n    this.img.onload = this.onLoad;\n    this.img.onerror = this.onError;\n\n    this.setState({\n      isLoaded: false\n    });\n  };\n\n  unloadImg() {\n    delete this.img.onerror;\n    delete this.img.onload;\n    delete this.img.src;\n    delete this.img;\n  }\n\n  handleTouchStart(event) {\n    event.preventDefault();\n    if (this.animationID) {\n      raf.cancel(this.animationID);\n    }\n    switch (event.touches.length) {\n      case 1: {\n        const targetEvent = event.touches[0];\n        this.startX = targetEvent.clientX;\n        this.startY = targetEvent.clientY;\n        this.diffX = 0;\n        this.diffY = 0;\n\n        this.startLeft = this.state.left;\n        this.startTop = this.state.top;\n\n        this.props.debug &&\n          console.info(\n            'handleTouchStart this.startX = %s, this.startY = %s, this.startLeft = %s, this.startTop = %s',\n            this.startX,\n            this.startY,\n            this.startLeft,\n            this.startTop\n          );\n        this.onTouchStartTime = Date.now();\n        this.haveCallMoveFn = false;\n        break;\n      }\n      case 2: {\n        // 两个手指\n        // 设置手双指模式\n        this.isTwoFingerMode = true;\n\n        // 计算两个手指中间点屏幕上的坐标\n        const middlePointClientLeft = Math.abs(Math.round((event.touches[0].clientX + event.touches[1].clientX) / 2));\n        const middlePointClientTop = Math.abs(Math.round((event.touches[0].clientY + event.touches[1].clientY) / 2));\n\n        // 保存图片初始位置和尺寸\n        this.startLeft = this.state.left;\n        this.startTop = this.state.top;\n        this.startScale = this.state.scale;\n\n        // 计算手指中间点在图片上的位置（坐标值）\n        this.oldPointLeft = middlePointClientLeft - this.startLeft;\n        this.oldPointTop = middlePointClientTop - this.startTop;\n\n        this._touchZoomDistanceStart = getDistanceBetweenTouches(event);\n        break;\n      }\n      default:\n        break;\n    }\n  }\n\n  handleTouchMove(event) {\n    event.preventDefault();\n    switch (event.touches.length) {\n      case 1: {\n        const targetEvent = event.touches[0];\n        const diffX = targetEvent.clientX - this.startX;\n        const diffY = targetEvent.clientY - this.startY;\n\n        this.diffX = diffX;\n        this.diffY = diffY;\n        this.props.debug && console.info('handleTouchMove one diffX=%s, diffY=%s', diffX, diffY);\n        // 判断是否为点击\n        if (Math.abs(diffX) < minTapMoveValue && Math.abs(diffY) < minTapMoveValue) {\n          return;\n        }\n\n        const { scale, left } = this.state;\n        const width = scale * this.originWidth;\n        if (Math.abs(diffX) > Math.abs(diffY)) {\n          // 水平移动\n          if (this.state.scale === this.originScale && Math.abs(diffX) > minTapMoveValue) {\n            this.haveCallMoveFn = true;\n            this.callHandleMove(diffX);\n            return;\n          }\n\n          this.props.debug &&\n            console.info(\n              'handleMove one left=%s, this.startLeft=%s,this.originWidth=%s, width=%s',\n              left,\n              this.startLeft,\n              this.originWidth,\n              width\n            );\n          if (diffX < 0 && this.startLeft <= this.originWidth - width) {\n            this.haveCallMoveFn = true;\n            this.callHandleMove(diffX);\n            return;\n          }\n\n          if (diffX > 0 && this.startLeft >= 0) {\n            this.haveCallMoveFn = true;\n            this.callHandleMove(diffX);\n            return;\n          }\n        }\n\n        const { screenHeight } = this.props;\n        const height = scale * this.originHeight;\n        let newTop = (screenHeight - height) / 2;\n        const newLeft = this.startLeft + diffX;\n\n        if (height > screenHeight || this.state.scale === this.originScale) {\n          newTop = this.startTop + diffY;\n        }\n        this.props.debug && console.info('handleTouchMove one newLeft=%s, newTop=%s', newLeft, newTop);\n        this.setState({\n          left: newLeft,\n          top: newTop\n        });\n\n        break;\n      }\n      case 2: {\n        // 两个手指\n        this._touchZoomDistanceEnd = getDistanceBetweenTouches(event);\n\n        const zoom = Math.sqrt(this._touchZoomDistanceEnd / this._touchZoomDistanceStart);\n        const scale = zoom * this.startScale;\n\n        this.setState(() => {\n          const left = this.startLeft + (1 - zoom) * this.oldPointLeft;\n          const top = this.startTop + (1 - zoom) * this.oldPointTop;\n\n          this.props.debug && console.info('zoom = %s, left = %s, top = %s, scale', zoom, left, top, scale);\n          return {\n            left,\n            top,\n            scale\n          };\n        });\n        break;\n      }\n      default:\n        break;\n    }\n  }\n\n  handleTouchEnd(event) {\n    event.preventDefault();\n    if (this.isTwoFingerMode) {\n      // 双指操作结束\n      const touchLen = event.touches.length;\n      this.isTwoFingerMode = false;\n\n      if (touchLen === 1) {\n        const targetEvent = event.touches[0];\n        this.startX = targetEvent.clientX;\n        this.startY = targetEvent.clientY;\n        this.diffX = 0;\n        this.diffY = 0;\n      }\n\n      this.setState((prevState, props) => {\n        const scale = setScope(prevState.scale, 1, props.maxZoomNum);\n        const width = scale * this.originWidth;\n        const height = scale * this.originHeight;\n        const zoom = scale / this.startScale;\n        const left = setScope(this.startLeft + (1 - zoom) * this.oldPointLeft, this.originWidth - width, 0);\n\n        let top;\n        if (height > props.screenHeight) {\n          top = setScope(this.startTop + (1 - zoom) * this.oldPointTop, props.screenHeight - height, 0);\n        } else {\n          top = (props.screenHeight - height) / 2;\n        }\n\n        if (touchLen === 1) {\n          this.startLeft = left;\n          this.startTop = top;\n          this.startScale = scale;\n          this.props.debug &&\n            console.info(\n              'this.startX = %s, this.startY = %s, this.startLeft = %s, this.startTop = %s',\n              this.startX,\n              this.startY,\n              this.startLeft,\n              this.startTop\n            );\n        }\n\n        this.props.debug &&\n          console.info('zoom = %s, left = %s, top = %s, width=%s, height= %s', zoom, left, top, width, height);\n        return {\n          left,\n          top,\n          scale\n        };\n      });\n    } else {\n      const now = Date.now();\n      // 单指结束（ontouchend）\n      const diffTime = now - this.onTouchStartTime;\n      this.lastTouchEndTime = now;\n      const { diffX, diffY } = this;\n\n      this.props.debug &&\n        console.info('handleTouchEnd one diffTime = %s, diffX = %s, diffy = %s', diffTime, diffX, diffY);\n      // 判断为点击则关闭图片浏览组件\n      if (diffTime < maxTapTimeValue && Math.abs(diffX) < minTapMoveValue && Math.abs(diffY) < minTapMoveValue) {\n        this.props.onClose instanceof Function && this.props.onClose();\n        return;\n      }\n\n      // 水平移动\n      if (this.haveCallMoveFn) {\n        const isChangeImage = this.callHandleEnd(diffY < 30);\n        if (isChangeImage) {\n          // 如果切换图片则重置当前图片状态\n          setTimeout(() => {\n            this.setState({\n              scale: this.originScale,\n              left: 0,\n              top: this.originTop\n            });\n          }, maxAnimateTime / 3);\n          return;\n        }\n      }\n      // TODO: 下拉移动距离超过屏幕高度的 1/3 则关闭\n      this.props.debug && console.info(Math.abs(diffY) > this.props.screenHeight / 2, this.startTop, this.originTop);\n      if (\n        Math.abs(diffX) < Math.abs(diffY) &&\n        Math.abs(diffY) > this.props.screenHeight / 3 &&\n        this.startTop === this.originTop\n      ) {\n        this.props.onClose instanceof Function && this.props.onClose();\n        return;\n      }\n\n      let x;\n      let y;\n      const { scale } = this.state;\n      // const width = scale * this.originWidth;\n      const height = scale * this.originHeight;\n\n      // 使用相同速度算法\n      x = (diffX * maxAnimateTime) / diffTime + this.startLeft;\n      y = (diffY * maxAnimateTime) / diffTime + this.startTop;\n\n      if (this.state.scale === this.originScale) {\n        x = 0;\n        if (height > this.props.screenHeight) {\n          y = setScope(y, this.props.screenHeight - height, 0);\n        } else {\n          y = this.originTop;\n        }\n      }\n\n      // x = setScope(x, this.originWidth - width, 0);\n\n      // if (height > this.props.screenHeight) {\n      // y = setScope(y, this.props.screenHeight - height, 0);\n      // } else {\n      //   y = this.state.top;\n      // }\n\n      this.animateStartValue = {\n        x: this.state.left,\n        y: this.state.top\n      };\n      this.animateFinalValue = {\n        x,\n        y\n      };\n      this.animateStartTime = Date.now();\n      this.startAnimate();\n    }\n  }\n\n  startAnimate() {\n    this.animationID = raf(() => {\n      // calculate current time\n      const curTime = Date.now() - this.animateStartTime;\n      let left;\n      let top;\n\n      // animate complete\n      if (curTime > maxAnimateTime) {\n        this.setState((prevState, props) => {\n          const width = prevState.scale * this.originWidth;\n          const height = prevState.scale * this.originHeight;\n          left = setScope(prevState.left, this.originWidth - width, 0);\n\n          if (height > props.screenHeight) {\n            top = setScope(prevState.top, props.screenHeight - height, 0);\n          } else {\n            top = (props.screenHeight - height) / 2;\n          }\n          this.props.debug && console.info('end animate left= %s, top = %s', left, top);\n          return {\n            left,\n            top\n          };\n        });\n      } else {\n        left = tween.easeOutQuart(curTime, this.animateStartValue.x, this.animateFinalValue.x, maxAnimateTime);\n        top = tween.easeOutQuart(curTime, this.animateStartValue.y, this.animateFinalValue.y, maxAnimateTime);\n\n        this.props.debug && console.info('startAnimate left= %s, top = %s, curTime = %s', left, top, curTime);\n        this.setState({\n          left,\n          top\n        });\n        this.startAnimate();\n      }\n    });\n  }\n\n  callHandleMove = diffX => {\n    if (!this.isCalledHandleStart) {\n      this.isCalledHandleStart = true;\n      if (this.props.handleStart) {\n        this.props.handleStart();\n      }\n    }\n    this.props.handleMove(diffX);\n  };\n\n  callHandleEnd = isAllowChange => {\n    if (this.isCalledHandleStart) {\n      this.isCalledHandleStart = false;\n      if (this.props.handleEnd) {\n        return this.props.handleEnd(isAllowChange);\n      }\n    }\n  };\n\n  render() {\n    const { screenWidth, screenHeight, src, left: divLeft } = this.props;\n    const { isLoaded, left, top, scale, width, height } = this.state;\n\n    const ImageStyle = {\n      width,\n      height\n    };\n\n    const translate = `translate3d(${left}px, ${top}px, 0) scale(${scale})`;\n    ImageStyle.WebkitTransform = translate;\n    ImageStyle.transform = translate;\n\n    const defaultStyle = {\n      left: divLeft,\n      width: screenWidth,\n      height: screenHeight\n    };\n    return (\n      <div\n        className=\"viewer-container__viewer-image-container\"\n        onTouchStart={this.handleTouchStart}\n        onTouchMove={this.handleTouchMove}\n        onTouchEnd={this.handleTouchEnd}\n        style={defaultStyle}\n      >\n        {isLoaded ? <img src={src} style={ImageStyle} alt=\"图片预览\" /> : <Loading />}\n      </div>\n    );\n  }\n}\n\nexport default ImageContainer;\n","import React, { PureComponent } from 'react';\n\nimport ImageContainer from './ImageContainer';\n\n// 快速拖动时间限制\nconst DEFAULT_TIME_DIFF = 200;\n\nclass ListContainer extends PureComponent {\n  constructor() {\n    super();\n    this.isNeedSpring = false;\n\n    this.state = {\n      left: 0\n    };\n\n    this.easing = this.easing.bind(this);\n    this.handleStart = this.handleStart.bind(this);\n    this.handleMove = this.handleMove.bind(this);\n    this.handleEnd = this.handleEnd.bind(this);\n  }\n\n  componentWillMount() {\n    const { screenWidth, urls, index, gap } = this.props;\n\n    this.length = urls.length;\n    this.perDistance = screenWidth + gap;\n    this.maxLeft = this.perDistance * (this.length - 1);\n    this.isNeedSpring = false;\n\n    this.setState({\n      left: -this.perDistance * index\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.index !== nextProps.index) {\n      this.isNeedSpring = true;\n      this.setState({\n        left: -this.perDistance * nextProps.index\n      });\n    }\n  }\n\n  /**\n   * 拖拽的缓动公式 - easeOutSine\n   * Link http://easings.net/zh-cn#\n   * t: current time（当前时间）；\n   * b: beginning value（初始值）；\n   * c: change in value（变化量）；\n   * d: duration（持续时间）。\n   */\n  easing(distance) {\n    const t = distance;\n    const b = 0;\n    const d = this.props.screenWidth; // 允许拖拽的最大距离\n    const c = d / 2.5; // 提示标签最大有效拖拽距离\n\n    return c * Math.sin((t / d) * (Math.PI / 2)) + b;\n  }\n\n  handleStart() {\n    this.props.debug && console.info('ListContainer handleStart');\n    this.startLeft = this.state.left;\n    this.startTime = new Date().getTime();\n    this.isNeedSpring = false;\n  }\n\n  handleMove(diffX) {\n    this.props.debug && console.info('ListContainer handleStart diffX = %s', diffX);\n    let nDiffx = diffX;\n    // 限制最大 diffx 值\n    if (Math.abs(nDiffx) > this.props.screenWidth) {\n      if (nDiffx < 0) {\n        nDiffx = -this.props.screenWidth;\n      }\n      if (nDiffx > 0) {\n        nDiffx = this.props.screenWidth;\n      }\n    }\n\n    if (this.state.left >= 0 && nDiffx > 0) {\n      nDiffx = this.easing(nDiffx);\n    } else if (this.state.left <= -this.maxLeft && nDiffx < 0) {\n      nDiffx = -this.easing(-nDiffx);\n    }\n\n    this.setState({\n      left: this.startLeft + nDiffx\n    });\n  }\n\n  handleEnd(isAllowChange) {\n    let index;\n    const diffTime = new Date().getTime() - this.startTime;\n    this.props.debug && console.info('handleEnd %s', isAllowChange, diffTime, this.state.left, this.startLeft, this.props.index);\n    // 快速拖动情况下切换图片\n    if (isAllowChange && diffTime < DEFAULT_TIME_DIFF) {\n      if (this.state.left < this.startLeft) {\n        index = this.props.index + 1;\n      } else {\n        index = this.props.index - 1;\n      }\n    } else {\n      index = Math.abs(Math.round(this.state.left / this.perDistance));\n    }\n\n    // 处理边界情况\n    if (index < 0) {\n      index = 0;\n    } else if (index > this.length - 1) {\n      index = this.length - 1;\n    }\n\n    this.setState({\n      left: -this.perDistance * index\n    });\n    this.isNeedSpring = true;\n    if (index !== this.props.index) {\n      this.props.changeIndex(index);\n      return true;\n    }\n    return false;\n  }\n\n  render() {\n    const { maxZoomNum, screenWidth, screenHeight, urls, speed, onClose, debug } = this.props;\n\n    const { left } = this.state;\n\n    const defaultStyle = {};\n\n    if (this.isNeedSpring) {\n      const duration = `${speed}ms`;\n      defaultStyle.WebkitTransitionDuration = duration;\n      defaultStyle.transitionDuration = duration;\n    }\n    const translate = `translate3d(${left}px, 0, 0)`;\n    defaultStyle.WebkitTransform = translate;\n    defaultStyle.transform = translate;\n\n    return (\n      <div className=\"viewer-container__viewer-list-container\" style={defaultStyle}>\n        {/* 这里使用 index 作为 key，是因为可能存在同一张图片在预览中 */\n        urls.map((item, i) => (\n          <ImageContainer\n            key={i} // eslint-disable-line\n            src={item}\n            debug={debug}\n            maxZoomNum={maxZoomNum}\n            handleStart={this.handleStart}\n            handleMove={this.handleMove}\n            handleEnd={this.handleEnd}\n            onClose={onClose}\n            left={this.perDistance * i}\n            screenWidth={screenWidth}\n            screenHeight={screenHeight}\n          />\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default ListContainer;\n","import React from 'react';\nimport Pointer from './Pointer';\nimport ListContainer from './ListContainer';\n\nconst screenWidth = typeof document !== 'undefined' && document.documentElement.clientWidth;\nconst screenHeight = typeof document !== 'undefined' && document.documentElement.clientHeight;\n\nexport default class ImageViewer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      index: props.index || 0\n    };\n    this.changeIndex = this.changeIndex.bind(this);\n  }\n\n  changeIndex(index) {\n    const { onChange } = this.props;\n    this.setState({ index });\n    if (onChange instanceof Function) {\n      onChange({ currentIndex: index });\n    }\n  }\n\n  render() {\n    const { maxZoomNum, zIndex, urls, gap, speed, onClose, footer, debug, screenWidth: width, screenHeight: height } = this.props;\n    const { index } = this.state;\n\n    // 获取底部元素\n    function getFooter() {\n      if (!footer) {\n        return null;\n      }\n      if (footer instanceof Function) {\n        const r = footer({ currentIndex: index });\n        return React.isValidElement(r) ? r : null;\n      }\n      if (React.isValidElement(footer)) {\n        return footer;\n      }\n\n      return null;\n    }\n\n    const f = getFooter();\n\n    return (\n      <div className=\"fly-component-image-viewer-container\" style={{ zIndex }}>\n        <div className=\"viewer-container__cover\" />\n        <ListContainer\n          screenWidth={width || screenWidth}\n          screenHeight={height || screenHeight}\n          changeIndex={this.changeIndex}\n          onClose={onClose}\n          debug={debug}\n          urls={urls}\n          maxZoomNum={maxZoomNum}\n          gap={gap}\n          speed={speed}\n          index={index}\n        />\n        {f ? (\n          <div className=\"viewer-container__pointer-box\">{f}</div>\n        ) : (\n          <Pointer length={urls.length} index={index} changeIndex={this.changeIndex} />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Viewer from './ImageViewer';\n\n// 不推荐；直接导出，提供不同的使用方式\nexport const ImageViewer = Viewer;\n\n// todo: cover-class, container-class, footer-class\n// 推荐！\nexport default (options = {}) => {\n  const {\n    maxZoomNum = 5, // 最大放大倍数\n    zIndex = 100, // 组件图层深度\n    index = 0, // 当前显示图片的http链接\n    urls = [], // 需要预览的图片http链接列表\n    gap = 10, // 间隙\n    speed = 300, // Duration of transition between slides (in ms)\n    onClose = () => {}, // 关闭组件回调\n    getContainer = () => document.body, // 容器\n    footer = null, // 底部节点\n    debug = false, // 是否打印开发日志\n    screenWidth, // 屏幕宽 document.documentElement.clientWidth\n    screenHeight, // 屏幕高 document.documentElement.clientHeight\n    strict = true, // 严格操作模式，开启将禁止 safari 的橡皮筋效果\n    onChange = () => {}, // 换页操作回调\n  } = options;\n  let $node = document.createElement('div');\n  let $container = getContainer();\n  if (!isElement($container)) {\n    console.warn(new Error('getContainer 函数的返回值应该是 DOM element.')); // eslint-disable-line\n    $container = document.body;\n  }\n  $container.appendChild($node);\n\n  // 严格操作模式，开启将禁止 safari 的橡皮筋效果\n  strict && document.body.addEventListener('touchmove', handleTouchmove, { passive: false }); //passive 参数不能省略，用来兼容ios和android\n\n  // 渲染节点\n  if (Array.isArray(urls) && urls.length > 0) {\n    ReactDOM.render(\n      <Viewer\n        index={index}\n        urls={urls}\n        footer={footer}\n        onClose={handleClose}\n        onChange={onChange}\n        maxZoomNum={maxZoomNum}\n        zIndex={zIndex}\n        speed={speed}\n        gap={gap}\n        screenHeight={screenHeight}\n        screenWidth={screenWidth}\n        debug={debug}\n      />,\n      $node\n    );\n  }\n\n  // 预览结束\n  function handleClose() {\n    onClose instanceof Function && onClose();\n    strict && document.body.removeEventListener('touchmove', handleTouchmove, { passive: false });\n    if ($node) {\n      $node.remove();\n      $node = null;\n    }\n  }\n\n  // iOS safari 阻止“橡皮筋效果”\n  function handleTouchmove(e) {\n    e.preventDefault(); //阻止默认的处理方式(阻止下拉滑动的效果)\n  }\n\n  return {\n    destroy: handleClose\n  }\n};\n\n// 判断是否是 DOM element, 来自 lodash https://github.com/lodash/lodash/blob/master/isElement.js\nfunction isElement(value) {\n  return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n}\n\nfunction isObjectLike(value) {\n  return typeof value === 'object' && value !== null;\n}\n\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || getTag(value) !== '[object Object]') {\n    return false;\n  }\n  if (Object.getPrototypeOf(value) === null) {\n    return true;\n  }\n  let proto = value;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n}\n\nconst toString = Object.prototype.toString;\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction getTag(value) {\n  if (value == null) {\n    return value === undefined ? '[object Undefined]' : '[object Null]';\n  }\n  return toString.call(value);\n}\n","import React from 'react';\nimport viewer from './components/image-viewer/src/index';\nimport './components/image-viewer/src/ImageViewer.css';\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.preview = this.preview.bind(this);\n  }\n  preview() {\n    this.__preview();\n  }\n  // 预览图片\n  __preview() {\n    viewer({\n      urls: [\n        'assets/pexels-photo-273222.jpeg',\n        'assets/pexels-photo-775415.jpeg',\n        'assets/pexels-photo-459793.jpeg',\n        'assets/pexels-photo-533405.jpeg',\n        'assets/pexels-photo-459688.jpeg',\n        'assets/pexels-photo-416343.jpeg',\n        'assets/pexels-photo-277615.jpeg',\n      ]\n    });\n  }\n  render() {\n    return (\n      <center>\n        <h1 onClick={this.preview}>点击预览</h1>\n      </center>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport { hydrate, render } from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst rootElement = document.getElementById(\"root\");\nif (rootElement.hasChildNodes()) {\n  hydrate(<App />, rootElement);\n} else {\n  render(<App />, rootElement);\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();","/* eslint-disable */\n'use strict';\n/**\n * t: current time（当前时间）；\n * b: beginning value（初始值）；\n * c: change in value（变化量）；\n * _c: final value (最后值)\n * d: duration（持续时间）。\n */\nvar tweenFunctions = {\n  linear: function(t, b, _c, d) {\n    var c = _c - b;\n    return (c * t) / d + b;\n  },\n  easeInQuad: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t + b;\n  },\n  easeOutQuad: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * (t /= d) * (t - 2) + b;\n  },\n  easeInOutQuad: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return (c / 2) * t * t + b;\n    } else {\n      return (-c / 2) * (--t * (t - 2) - 1) + b;\n    }\n  },\n  easeInCubic: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t * t + b;\n  },\n  easeOutCubic: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * ((t = t / d - 1) * t * t + 1) + b;\n  },\n  easeInOutCubic: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return (c / 2) * t * t * t + b;\n    } else {\n      return (c / 2) * ((t -= 2) * t * t + 2) + b;\n    }\n  },\n  easeInQuart: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t * t * t + b;\n  },\n  easeOutQuart: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n  },\n  easeInOutQuart: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return (c / 2) * t * t * t * t + b;\n    } else {\n      return (-c / 2) * ((t -= 2) * t * t * t - 2) + b;\n    }\n  },\n  easeInQuint: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * (t /= d) * t * t * t * t + b;\n  },\n  easeOutQuint: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n  },\n  easeInOutQuint: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return (c / 2) * t * t * t * t * t + b;\n    } else {\n      return (c / 2) * ((t -= 2) * t * t * t * t + 2) + b;\n    }\n  },\n  easeInSine: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * Math.cos((t / d) * (Math.PI / 2)) + c + b;\n  },\n  easeOutSine: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * Math.sin((t / d) * (Math.PI / 2)) + b;\n  },\n  easeInOutSine: function(t, b, _c, d) {\n    var c = _c - b;\n    return (-c / 2) * (Math.cos((Math.PI * t) / d) - 1) + b;\n  },\n  easeInExpo: function(t, b, _c, d) {\n    var c = _c - b;\n    return t == 0 ? b : c * Math.pow(2, 10 * (t / d - 1)) + b;\n  },\n  easeOutExpo: function(t, b, _c, d) {\n    var c = _c - b;\n    return t == d ? b + c : c * (-Math.pow(2, (-10 * t) / d) + 1) + b;\n  },\n  easeInOutExpo: function(t, b, _c, d) {\n    var c = _c - b;\n    if (t === 0) {\n      return b;\n    }\n    if (t === d) {\n      return b + c;\n    }\n    if ((t /= d / 2) < 1) {\n      return (c / 2) * Math.pow(2, 10 * (t - 1)) + b;\n    } else {\n      return (c / 2) * (-Math.pow(2, -10 * --t) + 2) + b;\n    }\n  },\n  easeInCirc: function(t, b, _c, d) {\n    var c = _c - b;\n    return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n  },\n  easeOutCirc: function(t, b, _c, d) {\n    var c = _c - b;\n    return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n  },\n  easeInOutCirc: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d / 2) < 1) {\n      return (-c / 2) * (Math.sqrt(1 - t * t) - 1) + b;\n    } else {\n      return (c / 2) * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n    }\n  },\n  easeInElastic: function(t, b, _c, d) {\n    var c = _c - b;\n    var a, p, s;\n    s = 1.70158;\n    p = 0;\n    a = c;\n    if (t === 0) {\n      return b;\n    } else if ((t /= d) === 1) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * 0.3;\n    }\n    if (a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = (p / (2 * Math.PI)) * Math.asin(c / a);\n    }\n    return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin(((t * d - s) * (2 * Math.PI)) / p)) + b;\n  },\n  easeOutElastic: function(t, b, _c, d) {\n    var c = _c - b;\n    var a, p, s;\n    s = 1.70158;\n    p = 0;\n    a = c;\n    if (t === 0) {\n      return b;\n    } else if ((t /= d) === 1) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * 0.3;\n    }\n    if (a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = (p / (2 * Math.PI)) * Math.asin(c / a);\n    }\n    return a * Math.pow(2, -10 * t) * Math.sin(((t * d - s) * (2 * Math.PI)) / p) + c + b;\n  },\n  easeInOutElastic: function(t, b, _c, d) {\n    var c = _c - b;\n    var a, p, s;\n    s = 1.70158;\n    p = 0;\n    a = c;\n    if (t === 0) {\n      return b;\n    } else if ((t /= d / 2) === 2) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * (0.3 * 1.5);\n    }\n    if (a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    } else {\n      s = (p / (2 * Math.PI)) * Math.asin(c / a);\n    }\n    if (t < 1) {\n      return -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin(((t * d - s) * (2 * Math.PI)) / p)) + b;\n    } else {\n      return a * Math.pow(2, -10 * (t -= 1)) * Math.sin(((t * d - s) * (2 * Math.PI)) / p) * 0.5 + c + b;\n    }\n  },\n  easeInBack: function(t, b, _c, d, s) {\n    var c = _c - b;\n    if (s === void 0) {\n      s = 1.70158;\n    }\n    return c * (t /= d) * t * ((s + 1) * t - s) + b;\n  },\n  easeOutBack: function(t, b, _c, d, s) {\n    var c = _c - b;\n    if (s === void 0) {\n      s = 1.70158;\n    }\n    return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n  },\n  easeInOutBack: function(t, b, _c, d, s) {\n    var c = _c - b;\n    if (s === void 0) {\n      s = 1.70158;\n    }\n    if ((t /= d / 2) < 1) {\n      return (c / 2) * (t * t * (((s *= 1.525) + 1) * t - s)) + b;\n    } else {\n      return (c / 2) * ((t -= 2) * t * (((s *= 1.525) + 1) * t + s) + 2) + b;\n    }\n  },\n  easeInBounce: function(t, b, _c, d) {\n    var c = _c - b;\n    var v;\n    v = tweenFunctions.easeOutBounce(d - t, 0, c, d);\n    return c - v + b;\n  },\n  easeOutBounce: function(t, b, _c, d) {\n    var c = _c - b;\n    if ((t /= d) < 1 / 2.75) {\n      return c * (7.5625 * t * t) + b;\n    } else if (t < 2 / 2.75) {\n      return c * (7.5625 * (t -= 1.5 / 2.75) * t + 0.75) + b;\n    } else if (t < 2.5 / 2.75) {\n      return c * (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375) + b;\n    } else {\n      return c * (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375) + b;\n    }\n  },\n  easeInOutBounce: function(t, b, _c, d) {\n    var c = _c - b;\n    var v;\n    if (t < d / 2) {\n      v = tweenFunctions.easeInBounce(t * 2, 0, c, d);\n      return v * 0.5 + b;\n    } else {\n      v = tweenFunctions.easeOutBounce(t * 2 - d, 0, c, d);\n      return v * 0.5 + c * 0.5 + b;\n    }\n  }\n};\n\nmodule.exports = tweenFunctions;\n"],"sourceRoot":""}